{"mappings":"A,S,e,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,e,W,gB,C,E,c,C,E,c,e,iB,A,O,gB,A,C,c,S,C,E,G,K,gB,O,e,C,E,C,O,C,G,K,c,C,I,E,a,C,E,A,Q,a,C,E,C,I,E,C,G,E,Q,C,C,E,O,e,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,a,C,E,C,C,E,e,iB,C,e,I,e,c,Q,C,e,Q,S,M,C,O,E,e,O,O,C,Y,I,W,e,O,O,C,Y,I,W,e,O,O,C,kB,I,iB,e,O,O,C,kB,I,iB,I,O,c,S,O,c,QCOO,OAAM,kBAAkB,OAAA,SAAQ,CAMrC,MAAM,UAA0C,CAC9C,GAAI,CAAC,IAAI,CAAC,MAAM,CAAE,CAChB,GAAM,CAAE,GAAG,CAAE,GAAG,CAAE,CAAG,IAAI,CACnB,SAAW,MAAM,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,EACxC,UAAY,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,AACzC,CAAA,IAAI,CAAC,MAAM,CAAG,AAAA,CAAA,EAAA,OAAA,aAAY,AAAZ,EAAc,IAAK,UACnC,CACA,OAAO,IAAI,CAAC,MAAM,AACpB,CAEA,aAAc,CACZ,KAAK,GAAA,IAAA,CAhBP,GAAA,CAAM,WAAA,IAAA,CACN,GAAA,CAAM,GAAA,IAAA,CACN,QAAA,CAAW,UAgBT,IAAI,CAAC,cAAc,CAAC,MAAO,MAAO,WACpC,CACF,CAEO,IAAM,UAAY,UAAU,cAAc,CAAC,CAChD,IAAK,gBACL,UAAW,CAAE,QAAS,CAAE,QAAS,MAAO,CAAE,CAC5C,EAEO,OAAM,wBAAwB,OAAA,SAAQ,CAC3C,aAAc,CACZ,KAAK,EACP,CAEA,MAAc,MAAO,CAInB,IAAM,EAAW,AAHS,IACpB,IAAI,CAAC,gBAAgB,CAAC,UAAU,OAAO,EAAY,CACvD,MAAM,CAAC,AAAC,GAAQ,EAAI,GAAG,EACU,GAAG,CAAC,AAAC,GAAQ,EAAI,QAAQ,GAC5D,OAAM,QAAQ,GAAG,CAAC,EACpB,CAEA,mBAAoB,CAClB,KAAK,CAAC,oBAEN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C,c,S,Q,C,0C,c,S,G,C,0C,c,S,e,C,0C,c,S,Q,C,0C,c,S,Q,C,0C,c,S,I,C,0C,c,S,U,C,0C,c,S,U,C,0C,c,S,K,C,0C,c,S,S,C,0C,c,S,Q,C,0C,c,S,W,C,0C,c,S,M,C,0C,c,S,W,C,0C,c,S,O,C,0C,c,S,Q,C,0C,c,S,a,C,0C,c,S,Q,C,0C,c,S,Q,C,0C,c,S,Q,C,0C,c,S,Q,C,0C,c,S,G,C,0C,c,S,K,C,0C,c,S,O,C,0C,c,S,S,C,0C,c,S,K,C,0C,c,S,uB,C,0C,c,S,O,C,0C,c,S,Q,C,0C,c,S,U,C,U,c,S,S,C,U,c,S,S,C,gB,c,S,e,C,gB,c,S,e,C,0B,c,Q,C,I,Q,6C,I,C,6C,E,C,6C,Q,C,6C,G,C,6C,e,C,6C,Q,C,6C,Q,C,6C,I,C,6C,U,C,6C,U,C,6C,K,C,6C,S,C,6C,Q,C,6C,W,C,6C,M,C,6C,S,C,6C,W,C,6C,O,C,6C,Q,C,6C,a,C,6C,Q,C,6C,Q,C,6C,Q,C,6C,Q,C,6C,G,C,6C,K,C,6C,O,C,6C,S,C,6C,K,C,6C,uB,C,6C,O,C,6C,Q,C,6C,U,C,S,C,S,C,e,C,e,C,6B,O","sources":["<anon>","src/blueprint-loader.ts","src/component.ts","src/css.ts","src/color.ts","src/more-math.ts","src/elements.ts","src/bind.ts","src/xin.ts","src/settings.ts","src/path-listener.ts","src/metadata.ts","src/deep-clone.ts","src/by-path.ts","src/make-error.ts","src/bindings.ts","src/list-binding.ts","src/dom.ts","src/throttle.ts","src/string-case.ts","src/make-component.ts","src/xin-proxy.ts","src/index.ts","src/hot-reload.ts","src/xin-types.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"2ifUx\", function(module, exports) {\n\n$parcel$export(module.exports, \"Blueprint\", () => Blueprint);\n$parcel$export(module.exports, \"blueprint\", () => blueprint);\n$parcel$export(module.exports, \"BlueprintLoader\", () => BlueprintLoader);\n$parcel$export(module.exports, \"blueprintLoader\", () => blueprintLoader);\n\nvar $4yWux = parcelRequire(\"4yWux\");\n\nvar $b9MJ6 = parcelRequire(\"b9MJ6\");\nclass Blueprint extends (0, $4yWux.Component) {\n    async packaged() {\n        if (!this.loaded) {\n            const { tag, src } = this;\n            const imported = await eval(`import('${src}')`);\n            const blueprint = imported[this.property];\n            this.loaded = (0, $b9MJ6.makeComponent)(tag, blueprint);\n        }\n        return this.loaded;\n    }\n    constructor(){\n        super(), this.tag = 'anon-elt', this.src = '', this.property = 'default';\n        this.initAttributes('tag', 'src', 'property');\n    }\n}\nconst blueprint = Blueprint.elementCreator({\n    tag: 'xin-blueprint',\n    styleSpec: {\n        ':host': {\n            display: 'none'\n        }\n    }\n});\nclass BlueprintLoader extends (0, $4yWux.Component) {\n    constructor(){\n        super();\n    }\n    async load() {\n        const blueprintElements = [\n            ...this.querySelectorAll(Blueprint.tagName)\n        ].filter((elt)=>elt.src);\n        const promises = blueprintElements.map((elt)=>elt.packaged());\n        await Promise.all(promises);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.load();\n    }\n}\nconst blueprintLoader = BlueprintLoader.elementCreator({\n    tag: 'xin-loader',\n    styleSpec: {\n        ':host': {\n            display: 'none'\n        }\n    }\n});\n\n});\nparcelRegister(\"4yWux\", function(module, exports) {\n\n$parcel$export(module.exports, \"Component\", () => $065ec34f90b90178$export$16fa2f45be04daa8);\n\nvar $fz28b = parcelRequire(\"fz28b\");\n\nvar $90dPN = parcelRequire(\"90dPN\");\n\nvar $2wmet = parcelRequire(\"2wmet\");\n\nvar $2p5zh = parcelRequire(\"2p5zh\");\n\nvar $3iPSl = parcelRequire(\"3iPSl\");\nlet $065ec34f90b90178$var$anonymousElementCount = 0;\nfunction $065ec34f90b90178$var$anonElementTag() {\n    return `custom-elt${($065ec34f90b90178$var$anonymousElementCount++).toString(36)}`;\n}\nlet $065ec34f90b90178$var$instanceCount = 0;\nconst $065ec34f90b90178$var$globalStyleSheets = {};\nfunction $065ec34f90b90178$var$setGlobalStyle(tagName, styleSpec) {\n    const existing = $065ec34f90b90178$var$globalStyleSheets[tagName];\n    const processed = (0, $fz28b.css)(styleSpec).replace(/:host\\b/g, tagName);\n    $065ec34f90b90178$var$globalStyleSheets[tagName] = existing ? existing + '\\n' + processed : processed;\n}\nfunction $065ec34f90b90178$var$insertGlobalStyles(tagName) {\n    if ($065ec34f90b90178$var$globalStyleSheets[tagName]) document.head.append((0, $2p5zh.elements).style({\n        id: tagName + '-component'\n    }, $065ec34f90b90178$var$globalStyleSheets[tagName]));\n    delete $065ec34f90b90178$var$globalStyleSheets[tagName];\n}\nclass $065ec34f90b90178$export$16fa2f45be04daa8 extends HTMLElement {\n    static{\n        this.elements = (0, $2p5zh.elements);\n    }\n    static{\n        this._tagName = null;\n    }\n    static get tagName() {\n        return this._tagName;\n    }\n    static StyleNode(styleSpec) {\n        console.warn('StyleNode is deprecated, just assign static styleSpec: XinStyleSheet to the class directly');\n        return (0, $2p5zh.elements).style((0, $fz28b.css)(styleSpec));\n    }\n    static elementCreator(options = {}) {\n        if (this._elementCreator == null) {\n            const { tag: tag, styleSpec: styleSpec } = options;\n            let tagName = options != null ? tag : null;\n            if (tagName == null) {\n                if (typeof this.name === 'string' && this.name !== '') {\n                    tagName = (0, $3iPSl.camelToKabob)(this.name);\n                    if (tagName.startsWith('-')) tagName = tagName.slice(1);\n                } else tagName = $065ec34f90b90178$var$anonElementTag();\n            }\n            if (customElements.get(tagName) != null) console.warn(`${tagName} is already defined`);\n            if (tagName.match(/\\w+(-\\w+)+/) == null) {\n                console.warn(`${tagName} is not a legal tag for a custom-element`);\n                tagName = $065ec34f90b90178$var$anonElementTag();\n            }\n            while(customElements.get(tagName) !== undefined)tagName = $065ec34f90b90178$var$anonElementTag();\n            this._tagName = tagName;\n            if (styleSpec !== undefined) $065ec34f90b90178$var$setGlobalStyle(tagName, styleSpec);\n            window.customElements.define(tagName, this, options);\n            this._elementCreator = (0, $2p5zh.elements)[tagName];\n        }\n        return this._elementCreator;\n    }\n    initAttributes(...attributeNames) {\n        const attributes = {};\n        const attributeValues = {};\n        const observer = new MutationObserver((mutationsList)=>{\n            let triggerRender = false;\n            mutationsList.forEach((mutation)=>{\n                triggerRender = !!(mutation.attributeName && attributeNames.includes((0, $3iPSl.kabobToCamel)(mutation.attributeName)));\n            });\n            if (triggerRender && this.queueRender !== undefined) this.queueRender(false);\n        });\n        observer.observe(this, {\n            attributes: true\n        });\n        attributeNames.forEach((attributeName)=>{\n            attributes[attributeName] = (0, $90dPN.deepClone)(this[attributeName]);\n            const attributeKabob = (0, $3iPSl.camelToKabob)(attributeName);\n            Object.defineProperty(this, attributeName, {\n                enumerable: false,\n                get () {\n                    if (typeof attributes[attributeName] === 'boolean') return this.hasAttribute(attributeKabob);\n                    else {\n                        if (this.hasAttribute(attributeKabob)) return typeof attributes[attributeName] === 'number' ? parseFloat(this.getAttribute(attributeKabob)) : this.getAttribute(attributeKabob);\n                        else if (attributeValues[attributeName] !== undefined) return attributeValues[attributeName];\n                        else return attributes[attributeName];\n                    }\n                },\n                set (value) {\n                    if (typeof attributes[attributeName] === 'boolean') {\n                        if (value !== this[attributeName]) {\n                            if (value) this.setAttribute(attributeKabob, '');\n                            else this.removeAttribute(attributeKabob);\n                            this.queueRender();\n                        }\n                    } else if (typeof attributes[attributeName] === 'number') {\n                        if (value !== parseFloat(this[attributeName])) {\n                            this.setAttribute(attributeKabob, value);\n                            this.queueRender();\n                        }\n                    } else if (typeof value === 'object' || `${value}` !== `${this[attributeName]}`) {\n                        if (value === null || value === undefined || typeof value === 'object') this.removeAttribute(attributeKabob);\n                        else this.setAttribute(attributeKabob, value);\n                        this.queueRender();\n                        attributeValues[attributeName] = value;\n                    }\n                }\n            });\n        });\n    }\n    initValue() {\n        const valueDescriptor = Object.getOwnPropertyDescriptor(this, 'value');\n        if (valueDescriptor === undefined || valueDescriptor.get !== undefined || valueDescriptor.set !== undefined) return;\n        let value = this.hasAttribute('value') ? this.getAttribute('value') : (0, $90dPN.deepClone)(this.value);\n        delete this.value;\n        Object.defineProperty(this, 'value', {\n            enumerable: false,\n            get () {\n                return value;\n            },\n            set (newValue) {\n                if (value !== newValue) {\n                    value = newValue;\n                    this.queueRender(true);\n                }\n            }\n        });\n    }\n    get parts() {\n        const root = this.shadowRoot != null ? this.shadowRoot : this;\n        if (this._parts == null) this._parts = new Proxy({}, {\n            get (target, ref) {\n                if (target[ref] === undefined) {\n                    let element = root.querySelector(`[part=\"${ref}\"]`);\n                    if (element == null) element = root.querySelector(ref);\n                    if (element == null) throw new Error(`elementRef \"${ref}\" does not exist!`);\n                    element.removeAttribute('data-ref');\n                    target[ref] = element;\n                }\n                return target[ref];\n            }\n        });\n        return this._parts;\n    }\n    constructor(){\n        super(), this.content = (0, $2p5zh.elements).slot(), this._changeQueued = false, this._renderQueued = false, this._hydrated = false;\n        $065ec34f90b90178$var$instanceCount += 1;\n        this.initAttributes('hidden');\n        this.instanceId = `${this.tagName.toLocaleLowerCase()}-${$065ec34f90b90178$var$instanceCount}`;\n        this._value = (0, $90dPN.deepClone)(this.defaultValue);\n    }\n    connectedCallback() {\n        $065ec34f90b90178$var$insertGlobalStyles(this.constructor.tagName);\n        this.hydrate();\n        // super annoyingly, chrome loses its shit if you set *any* attributes in the constructor\n        if (this.role != null) this.setAttribute('role', this.role);\n        if (this.onResize !== undefined) {\n            (0, $2wmet.resizeObserver).observe(this);\n            if (this._onResize == null) this._onResize = this.onResize.bind(this);\n            this.addEventListener('resize', this._onResize);\n        }\n        if (this.value != null && this.getAttribute('value') != null) this._value = this.getAttribute('value');\n        this.queueRender();\n    }\n    disconnectedCallback() {\n        (0, $2wmet.resizeObserver).unobserve(this);\n    }\n    queueRender(triggerChangeEvent = false) {\n        if (!this._hydrated) return;\n        if (!this._changeQueued) this._changeQueued = triggerChangeEvent;\n        if (!this._renderQueued) {\n            this._renderQueued = true;\n            requestAnimationFrame(()=>{\n                // TODO add mechanism to allow component developer to have more control over\n                // whether input vs. change events are emitted\n                if (this._changeQueued) (0, $2wmet.dispatch)(this, 'change');\n                this._changeQueued = false;\n                this._renderQueued = false;\n                this.render();\n            });\n        }\n    }\n    hydrate() {\n        if (!this._hydrated) {\n            this.initValue();\n            const cloneElements = typeof this.content !== 'function';\n            const _content = typeof this.content === 'function' ? this.content() : this.content;\n            const { styleSpec: styleSpec } = this.constructor;\n            let { styleNode: styleNode } = this.constructor;\n            if (styleSpec) {\n                styleNode = this.constructor.styleNode = (0, $2p5zh.elements).style((0, $fz28b.css)(styleSpec));\n                delete this.constructor.styleNode;\n            }\n            if (this.styleNode) {\n                console.warn(this, 'styleNode is deprecrated, use static styleNode or statc styleSpec instead');\n                styleNode = this.styleNode;\n            }\n            if (styleNode) {\n                const shadow = this.attachShadow({\n                    mode: 'open'\n                });\n                shadow.appendChild(styleNode.cloneNode(true));\n                (0, $2wmet.appendContentToElement)(shadow, _content, cloneElements);\n            } else if (_content !== null) {\n                const existingChildren = [\n                    ...this.childNodes\n                ];\n                (0, $2wmet.appendContentToElement)(this, _content, cloneElements);\n                this.isSlotted = this.querySelector('slot,xin-slot') !== undefined;\n                const slots = [\n                    ...this.querySelectorAll('slot')\n                ];\n                if (slots.length > 0) slots.forEach($065ec34f90b90178$var$XinSlot.replaceSlot);\n                if (existingChildren.length > 0) {\n                    const slotMap = {\n                        '': this\n                    };\n                    [\n                        ...this.querySelectorAll('xin-slot')\n                    ].forEach((slot)=>{\n                        slotMap[slot.name] = slot;\n                    });\n                    existingChildren.forEach((child)=>{\n                        const defaultSlot = slotMap[''];\n                        const destSlot = child instanceof Element ? slotMap[child.slot] : defaultSlot;\n                        (destSlot !== undefined ? destSlot : defaultSlot).append(child);\n                    });\n                }\n            }\n            this._hydrated = true;\n        }\n    }\n    render() {}\n}\nclass $065ec34f90b90178$var$XinSlot extends $065ec34f90b90178$export$16fa2f45be04daa8 {\n    static replaceSlot(slot) {\n        const _slot = document.createElement('xin-slot');\n        if (slot.name !== '') _slot.setAttribute('name', slot.name);\n        slot.replaceWith(_slot);\n    }\n    constructor(){\n        super(), this.name = '', this.content = null;\n        this.initAttributes('name');\n    }\n}\nconst $065ec34f90b90178$export$a0751b4aa1961d4e = $065ec34f90b90178$var$XinSlot.elementCreator({\n    tag: 'xin-slot'\n});\n\n});\nparcelRegister(\"fz28b\", function(module, exports) {\n\n$parcel$export(module.exports, \"StyleSheet\", () => $4d116130f980647c$export$9d753cd7ae895cce);\n$parcel$export(module.exports, \"css\", () => $4d116130f980647c$export$dbf350e5966cf602);\n$parcel$export(module.exports, \"processProp\", () => $4d116130f980647c$export$4f8a9e649bc1f08b);\n$parcel$export(module.exports, \"initVars\", () => $4d116130f980647c$export$90d0ea046136e3ed);\n$parcel$export(module.exports, \"darkMode\", () => $4d116130f980647c$export$808aaf1b460dc9af);\n$parcel$export(module.exports, \"invertLuminance\", () => $4d116130f980647c$export$8279dba9b7d4e420);\n$parcel$export(module.exports, \"vars\", () => $4d116130f980647c$export$3cb96c9f6c8d16a4);\n$parcel$export(module.exports, \"varDefault\", () => $4d116130f980647c$export$75c0e6adb3e38f31);\n\nvar $6NN4x = parcelRequire(\"6NN4x\");\n\nvar $2p5zh = parcelRequire(\"2p5zh\");\n\nvar $3iPSl = parcelRequire(\"3iPSl\");\nfunction $4d116130f980647c$export$9d753cd7ae895cce(id, styleSpec) {\n    const element = (0, $2p5zh.elements).style($4d116130f980647c$export$dbf350e5966cf602(styleSpec));\n    element.id = id;\n    document.head.append(element);\n}\nconst $4d116130f980647c$var$numericProps = [\n    'animation-iteration-count',\n    'flex',\n    'flex-base',\n    'flex-grow',\n    'flex-shrink',\n    'opacity',\n    'order',\n    'tab-size',\n    'widows',\n    'z-index',\n    'zoom'\n];\nconst $4d116130f980647c$export$4f8a9e649bc1f08b = (prop, value)=>{\n    if (typeof value === 'number' && !$4d116130f980647c$var$numericProps.includes(prop)) value = `${value}px`;\n    if (prop.startsWith('_')) {\n        if (prop.startsWith('__')) {\n            prop = '--' + prop.substring(2);\n            value = `var(${prop}-default, ${value})`;\n        } else prop = '--' + prop.substring(1);\n    }\n    return {\n        prop: prop,\n        value: String(value)\n    };\n};\nconst $4d116130f980647c$var$renderProp = (indentation, cssProp, value)=>{\n    if (value === undefined) return '';\n    if (value instanceof (0, $6NN4x.Color)) value = value.html;\n    const processed = $4d116130f980647c$export$4f8a9e649bc1f08b(cssProp, value);\n    return `${indentation}  ${processed.prop}: ${processed.value};`;\n};\nconst $4d116130f980647c$var$renderStatement = (key, value, indentation = '')=>{\n    const cssProp = (0, $3iPSl.camelToKabob)(key);\n    if (typeof value === 'object' && !(value instanceof (0, $6NN4x.Color))) {\n        const renderedRule = Object.keys(value).map((innerKey)=>$4d116130f980647c$var$renderStatement(innerKey, value[innerKey], `${indentation}  `)).join('\\n');\n        return `${indentation}  ${key} {\\n${renderedRule}\\n${indentation}  }`;\n    } else return $4d116130f980647c$var$renderProp(indentation, cssProp, value);\n};\nconst $4d116130f980647c$export$dbf350e5966cf602 = (obj, indentation = '')=>{\n    const selectors = Object.keys(obj).map((selector)=>{\n        const body = obj[selector];\n        if (typeof body === 'string') {\n            if (selector === '@import') return `@import url('${body}');`;\n            throw new Error('top-level string value only allowed for `@import`');\n        }\n        const rule = Object.keys(body).map((prop)=>$4d116130f980647c$var$renderStatement(prop, body[prop])).join('\\n');\n        return `${indentation}${selector} {\\n${rule}\\n}`;\n    });\n    return selectors.join('\\n\\n');\n};\nconst $4d116130f980647c$export$90d0ea046136e3ed = (obj)=>{\n    console.warn('initVars is deprecated. Just use _ and __ prefixes instead.');\n    const rule = {};\n    for (const key of Object.keys(obj)){\n        const value = obj[key];\n        const kabobKey = (0, $3iPSl.camelToKabob)(key);\n        rule[`--${kabobKey}`] = typeof value === 'number' && value !== 0 ? String(value) + 'px' : value;\n    }\n    return rule;\n};\nconst $4d116130f980647c$export$808aaf1b460dc9af = (obj)=>{\n    console.warn('darkMode is deprecated. Use inverseLuminance instead.');\n    const rule = {};\n    for (const key of Object.keys(obj)){\n        let value = obj[key];\n        if (typeof value === 'string' && value.match(/^(#|rgb[a]?\\(|hsl[a]?\\()/) != null) {\n            value = (0, $6NN4x.Color).fromCss(value).inverseLuminance.html;\n            rule[`--${(0, $3iPSl.camelToKabob)(key)}`] = value;\n        }\n    }\n    return rule;\n};\nconst $4d116130f980647c$export$8279dba9b7d4e420 = (map)=>{\n    const inverted = {};\n    for (const key of Object.keys(map)){\n        const value = map[key];\n        if (value instanceof (0, $6NN4x.Color)) inverted[key] = value.inverseLuminance;\n        else if (typeof value === 'string' && value.match(/^(#[0-9a-fA-F]{3}|rgba?\\(|hsla?\\()/)) inverted[key] = (0, $6NN4x.Color).fromCss(value).inverseLuminance;\n    }\n    return inverted;\n};\nconst $4d116130f980647c$export$3cb96c9f6c8d16a4 = new Proxy({}, {\n    get (target, prop) {\n        if (target[prop] == null) {\n            prop = prop.replace(/[A-Z]/g, (x)=>`-${x.toLocaleLowerCase()}`);\n            const [, _varName, , isNegative, scaleText, method] = prop.match(/^([^\\d_]*)((_)?(\\d+)(\\w*))?$/);\n            const varName = `--${_varName}`;\n            if (scaleText != null) {\n                const scale = isNegative == null ? Number(scaleText) / 100 : -Number(scaleText) / 100;\n                switch(method){\n                    case 'b':\n                        {\n                            const baseColor = getComputedStyle(document.body).getPropertyValue(varName);\n                            target[prop] = scale > 0 ? (0, $6NN4x.Color).fromCss(baseColor).brighten(scale).rgba : (0, $6NN4x.Color).fromCss(baseColor).darken(-scale).rgba;\n                        }\n                        break;\n                    case 's':\n                        {\n                            const baseColor = getComputedStyle(document.body).getPropertyValue(varName);\n                            target[prop] = scale > 0 ? (0, $6NN4x.Color).fromCss(baseColor).saturate(scale).rgba : (0, $6NN4x.Color).fromCss(baseColor).desaturate(-scale).rgba;\n                        }\n                        break;\n                    case 'h':\n                        {\n                            const baseColor = getComputedStyle(document.body).getPropertyValue(varName);\n                            target[prop] = (0, $6NN4x.Color).fromCss(baseColor).rotate(scale * 100).rgba;\n                            console.log((0, $6NN4x.Color).fromCss(baseColor).hsla, (0, $6NN4x.Color).fromCss(baseColor).rotate(scale).hsla);\n                        }\n                        break;\n                    case 'o':\n                        {\n                            const baseColor = getComputedStyle(document.body).getPropertyValue(varName);\n                            target[prop] = (0, $6NN4x.Color).fromCss(baseColor).opacity(scale).rgba;\n                        }\n                        break;\n                    case '':\n                        target[prop] = `calc(var(${varName}) * ${scale})`;\n                        break;\n                    default:\n                        console.error(method);\n                        throw new Error(`Unrecognized method ${method} for css variable ${varName}`);\n                }\n            } else target[prop] = `var(${varName})`;\n        }\n        return target[prop];\n    }\n});\nconst $4d116130f980647c$export$75c0e6adb3e38f31 = new Proxy({}, {\n    get (target, prop) {\n        if (target[prop] === undefined) {\n            const varName = `--${prop.replace(/[A-Z]/g, (x)=>`-${x.toLocaleLowerCase()}`)}`;\n            target[prop] = (val)=>`var(${varName}, ${val})`;\n        }\n        return target[prop];\n    }\n});\n\n});\nparcelRegister(\"6NN4x\", function(module, exports) {\n\n$parcel$export(module.exports, \"Color\", () => $ebe12b957d7ffb42$export$892596cec99bc70e);\n\nvar $1pBIY = parcelRequire(\"1pBIY\");\n// http://www.itu.int/rec/R-REC-BT.601\nconst $ebe12b957d7ffb42$var$bt601 = (r, g, b)=>{\n    return (0.299 * r + 0.587 * g + 0.114 * b) / 255;\n};\nconst $ebe12b957d7ffb42$var$hex2 = (n)=>('00' + Math.round(Number(n)).toString(16)).slice(-2);\nclass $ebe12b957d7ffb42$var$HslColor {\n    constructor(r, g, b){\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        const l = Math.max(r, g, b);\n        const s = l - Math.min(r, g, b);\n        const h = s !== 0 ? l === r ? (g - b) / s : l === g ? 2 + (b - r) / s : 4 + (r - g) / s : 0;\n        this.h = 60 * h < 0 ? 60 * h + 360 : 60 * h;\n        this.s = s !== 0 ? l <= 0.5 ? s / (2 * l - s) : s / (2 - (2 * l - s)) : 0;\n        this.l = (2 * l - s) / 2;\n    }\n}\nconst $ebe12b957d7ffb42$var$span = globalThis.document !== undefined ? globalThis.document.createElement('span') : undefined;\nclass $ebe12b957d7ffb42$export$892596cec99bc70e {\n    static fromCss(spec) {\n        let converted = spec;\n        if ($ebe12b957d7ffb42$var$span instanceof HTMLSpanElement) {\n            $ebe12b957d7ffb42$var$span.style.color = spec;\n            document.body.appendChild($ebe12b957d7ffb42$var$span);\n            converted = getComputedStyle($ebe12b957d7ffb42$var$span).color;\n            $ebe12b957d7ffb42$var$span.remove();\n        }\n        const [r, g, b, a] = converted.match(/[\\d.]+/g);\n        return new $ebe12b957d7ffb42$export$892596cec99bc70e(Number(r), Number(g), Number(b), a == null ? 1 : Number(a));\n    }\n    static fromHsl(h, s, l, a = 1) {\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromCss(`hsla(${h.toFixed(0)}, ${(s * 100).toFixed(0)}%, ${(l * 100).toFixed(0)}%, ${a.toFixed(2)})`);\n    }\n    constructor(r, g, b, a = 1){\n        this.r = (0, $1pBIY.clamp)(0, r, 255);\n        this.g = (0, $1pBIY.clamp)(0, g, 255);\n        this.b = (0, $1pBIY.clamp)(0, b, 255);\n        this.a = a !== undefined ? (0, $1pBIY.clamp)(0, a, 1) : a = 1;\n    }\n    get inverse() {\n        return new $ebe12b957d7ffb42$export$892596cec99bc70e(255 - this.r, 255 - this.g, 255 - this.b, this.a);\n    }\n    get inverseLuminance() {\n        const { h: h, s: s, l: l } = this._hsl;\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromHsl(h, s, 1 - l, this.a);\n    }\n    get rgb() {\n        const { r: r, g: g, b: b } = this;\n        return `rgb(${r.toFixed(0)},${g.toFixed(0)},${b.toFixed(0)})`;\n    }\n    get rgba() {\n        const { r: r, g: g, b: b, a: a } = this;\n        return `rgba(${r.toFixed(0)},${g.toFixed(0)},${b.toFixed(0)},${a.toFixed(2)})`;\n    }\n    get RGBA() {\n        return [\n            this.r / 255,\n            this.g / 255,\n            this.b / 255,\n            this.a\n        ];\n    }\n    get ARGB() {\n        return [\n            this.a,\n            this.r / 255,\n            this.g / 255,\n            this.b / 255\n        ];\n    }\n    get _hsl() {\n        if (this.hslCached == null) this.hslCached = new $ebe12b957d7ffb42$var$HslColor(this.r, this.g, this.b);\n        return this.hslCached;\n    }\n    get hsl() {\n        const { h: h, s: s, l: l } = this._hsl;\n        return `hsl(${h.toFixed(0)}, ${(s * 100).toFixed(0)}%, ${(l * 100).toFixed(0)}%)`;\n    }\n    get hsla() {\n        const { h: h, s: s, l: l } = this._hsl;\n        return `hsla(${h.toFixed(0)}, ${(s * 100).toFixed(0)}%, ${(l * 100).toFixed(0)}%, ${this.a.toFixed(2)})`;\n    }\n    get mono() {\n        const v = this.brightness * 255;\n        return new $ebe12b957d7ffb42$export$892596cec99bc70e(v, v, v);\n    }\n    get brightness() {\n        return $ebe12b957d7ffb42$var$bt601(this.r, this.g, this.b);\n    }\n    get html() {\n        return this.toString();\n    }\n    toString() {\n        return this.a === 1 ? '#' + $ebe12b957d7ffb42$var$hex2(this.r) + $ebe12b957d7ffb42$var$hex2(this.g) + $ebe12b957d7ffb42$var$hex2(this.b) : '#' + $ebe12b957d7ffb42$var$hex2(this.r) + $ebe12b957d7ffb42$var$hex2(this.g) + $ebe12b957d7ffb42$var$hex2(this.b) + $ebe12b957d7ffb42$var$hex2(Math.floor(255 * this.a));\n    }\n    brighten(amount) {\n        const { h: h, s: s, l: l } = this._hsl;\n        const lClamped = (0, $1pBIY.clamp)(0, l + amount * (1 - l), 1);\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromHsl(h, s, lClamped, this.a);\n    }\n    darken(amount) {\n        const { h: h, s: s, l: l } = this._hsl;\n        const lClamped = (0, $1pBIY.clamp)(0, l * (1 - amount), 1);\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromHsl(h, s, lClamped, this.a);\n    }\n    saturate(amount) {\n        const { h: h, s: s, l: l } = this._hsl;\n        const sClamped = (0, $1pBIY.clamp)(0, s + amount * (1 - s), 1);\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromHsl(h, sClamped, l, this.a);\n    }\n    desaturate(amount) {\n        const { h: h, s: s, l: l } = this._hsl;\n        const sClamped = (0, $1pBIY.clamp)(0, s * (1 - amount), 1);\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromHsl(h, sClamped, l, this.a);\n    }\n    rotate(amount) {\n        const { h: h, s: s, l: l } = this._hsl;\n        const hClamped = (h + 360 + amount) % 360;\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromHsl(hClamped, s, l, this.a);\n    }\n    opacity(alpha) {\n        const { h: h, s: s, l: l } = this._hsl;\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromHsl(h, s, l, alpha);\n    }\n    swatch() {\n        const { r: r, g: g, b: b, a: a } = this;\n        console.log(`%c      %c ${this.html}, rgba(${r}, ${g}, ${b}, ${a}), ${this.hsla}`, `background-color: rgba(${r}, ${g}, ${b}, ${a})`, 'background-color: transparent');\n        return this;\n    }\n    blend(otherColor, t) {\n        return new $ebe12b957d7ffb42$export$892596cec99bc70e((0, $1pBIY.lerp)(this.r, otherColor.r, t), (0, $1pBIY.lerp)(this.g, otherColor.g, t), (0, $1pBIY.lerp)(this.b, otherColor.b, t), (0, $1pBIY.lerp)(this.a, otherColor.a, t));\n    }\n    mix(otherColor, t) {\n        const a = this._hsl;\n        const b = otherColor._hsl;\n        return $ebe12b957d7ffb42$export$892596cec99bc70e.fromHsl((0, $1pBIY.lerp)(a.h, b.h, t), (0, $1pBIY.lerp)(a.s, b.s, t), (0, $1pBIY.lerp)(a.l, b.l, t), (0, $1pBIY.lerp)(this.a, otherColor.a, t));\n    }\n}\n\n});\nparcelRegister(\"1pBIY\", function(module, exports) {\n\n$parcel$export(module.exports, \"clamp\", () => $35ded60743a49eea$export$7d15b64cf5a3a4c4);\n$parcel$export(module.exports, \"lerp\", () => $35ded60743a49eea$export$3a89f8d6f6bf6c9f);\n$parcel$export(module.exports, \"MoreMath\", () => $35ded60743a49eea$export$5e0dd9fd5d74e0c5);\n/*\n# more-math\n\nSome simple functions egregiously missing from `Math`\n*/ const $35ded60743a49eea$export$ba6bc6c220358ed9 = 180 / Math.PI;\nconst $35ded60743a49eea$export$1518e1a62333c8a4 = Math.PI / 180;\nfunction $35ded60743a49eea$export$7d15b64cf5a3a4c4(min, v, max) {\n    return v < min ? min : v > max ? max : v;\n}\nfunction $35ded60743a49eea$export$3a89f8d6f6bf6c9f(a, b, t) {\n    t = $35ded60743a49eea$export$7d15b64cf5a3a4c4(0, t, 1);\n    return t * (b - a) + a;\n}\nconst $35ded60743a49eea$export$5e0dd9fd5d74e0c5 = {\n    clamp: $35ded60743a49eea$export$7d15b64cf5a3a4c4,\n    lerp: $35ded60743a49eea$export$3a89f8d6f6bf6c9f\n};\n\n});\n\n\nparcelRegister(\"2p5zh\", function(module, exports) {\n\n$parcel$export(module.exports, \"elements\", () => $1fadd05c13944ca9$export$7a5d735b2ab6389d);\n$parcel$export(module.exports, \"svgElements\", () => $1fadd05c13944ca9$export$cf20112a1bc148da);\n$parcel$export(module.exports, \"mathML\", () => $1fadd05c13944ca9$export$8ec252cfdd664597);\n\nvar $hgaE9 = parcelRequire(\"hgaE9\");\n\nvar $i7v8b = parcelRequire(\"i7v8b\");\n\nvar $3iPSl = parcelRequire(\"3iPSl\");\n\nvar $fz28b = parcelRequire(\"fz28b\");\nconst $1fadd05c13944ca9$var$MATH = 'http://www.w3.org/1998/Math/MathML';\nconst $1fadd05c13944ca9$var$SVG = 'http://www.w3.org/2000/svg';\nconst $1fadd05c13944ca9$var$templates = {};\nconst $1fadd05c13944ca9$var$create = (tagType, ...contents)=>{\n    if ($1fadd05c13944ca9$var$templates[tagType] === undefined) {\n        const [tag, namespace] = tagType.split('|');\n        if (namespace === undefined) $1fadd05c13944ca9$var$templates[tagType] = globalThis.document.createElement(tag);\n        else $1fadd05c13944ca9$var$templates[tagType] = globalThis.document.createElementNS(namespace, tag);\n    }\n    const elt = $1fadd05c13944ca9$var$templates[tagType].cloneNode();\n    const elementProps = {};\n    for (const item of contents)if (item instanceof Element || item instanceof DocumentFragment || typeof item === 'string' || typeof item === 'number') {\n        if (elt instanceof HTMLTemplateElement) elt.content.append(item);\n        else elt.append(item);\n    } else Object.assign(elementProps, item);\n    for (const key of Object.keys(elementProps)){\n        const value = elementProps[key];\n        if (key === 'apply') value(elt);\n        else if (key === 'style') {\n            if (typeof value === 'object') for (const prop of Object.keys(value)){\n                const processed = (0, $fz28b.processProp)((0, $3iPSl.camelToKabob)(prop), value[prop]);\n                if (processed.prop.startsWith('--')) elt.style.setProperty(processed.prop, processed.value);\n                else elt.style[prop] = processed.value;\n            }\n            else elt.setAttribute('style', value);\n        } else if (key.match(/^on[A-Z]/) != null) {\n            const eventType = key.substring(2).toLowerCase();\n            (0, $hgaE9.on)(elt, eventType, value);\n        } else if (key === 'bind') {\n            const binding = typeof value.binding === 'string' ? (0, $i7v8b.bindings)[value.binding] : value.binding;\n            if (binding !== undefined && value.value !== undefined) (0, $hgaE9.bind)(elt, value.value, value.binding instanceof Function ? {\n                toDOM: value.binding\n            } : value.binding);\n            else throw new Error(`bad binding`);\n        } else if (key.match(/^bind[A-Z]/) != null) {\n            const bindingType = key.substring(4, 5).toLowerCase() + key.substring(5);\n            const binding = (0, $i7v8b.bindings)[bindingType];\n            if (binding !== undefined) (0, $hgaE9.bind)(elt, value, binding);\n            else throw new Error(`${key} is not allowed, bindings.${bindingType} is not defined`);\n        } else if (elt[key] !== undefined) {\n            // MathML is only supported on 91% of browsers, and not on the Raspberry Pi Chromium\n            const { MathMLElement: MathMLElement } = globalThis;\n            if (elt instanceof SVGElement || MathMLElement !== undefined && elt instanceof MathMLElement) elt.setAttribute(key, value);\n            else elt[key] = value;\n        } else {\n            const attr = (0, $3iPSl.camelToKabob)(key);\n            if (attr === 'class') value.split(' ').forEach((className)=>{\n                elt.classList.add(className);\n            });\n            else if (elt[attr] !== undefined) elt[attr] = value;\n            else if (typeof value === 'boolean') value ? elt.setAttribute(attr, '') : elt.removeAttribute(attr);\n            else elt.setAttribute(attr, value);\n        }\n    }\n    return elt;\n};\nconst $1fadd05c13944ca9$var$fragment = (...contents)=>{\n    const frag = globalThis.document.createDocumentFragment();\n    for (const item of contents)frag.append(item);\n    return frag;\n};\nconst $1fadd05c13944ca9$export$7a5d735b2ab6389d = new Proxy({\n    fragment: $1fadd05c13944ca9$var$fragment\n}, {\n    get (target, tagName) {\n        tagName = tagName.replace(/[A-Z]/g, (c)=>`-${c.toLocaleLowerCase()}`);\n        if (target[tagName] === undefined) target[tagName] = (...contents)=>$1fadd05c13944ca9$var$create(tagName, ...contents);\n        return target[tagName];\n    },\n    set () {\n        throw new Error('You may not add new properties to elements');\n    }\n});\nconst $1fadd05c13944ca9$export$cf20112a1bc148da = new Proxy({\n    fragment: $1fadd05c13944ca9$var$fragment\n}, {\n    get (target, tagName) {\n        if (target[tagName] === undefined) target[tagName] = (...contents)=>$1fadd05c13944ca9$var$create(`${tagName}|${$1fadd05c13944ca9$var$SVG}`, ...contents);\n        return target[tagName];\n    },\n    set () {\n        throw new Error('You may not add new properties to elements');\n    }\n});\nconst $1fadd05c13944ca9$export$8ec252cfdd664597 = new Proxy({\n    fragment: $1fadd05c13944ca9$var$fragment\n}, {\n    get (target, tagName) {\n        if (target[tagName] === undefined) target[tagName] = (...contents)=>$1fadd05c13944ca9$var$create(`${tagName}|${$1fadd05c13944ca9$var$MATH}`, ...contents);\n        return target[tagName];\n    },\n    set () {\n        throw new Error('You may not add new properties to elements');\n    }\n});\n\n});\nparcelRegister(\"hgaE9\", function(module, exports) {\n\n$parcel$export(module.exports, \"bind\", () => $d165020245160cdf$export$2385a24977818dd0);\n$parcel$export(module.exports, \"on\", () => $d165020245160cdf$export$af631764ddc44097);\n\nvar $aQzlW = parcelRequire(\"aQzlW\");\nvar $a10hu = parcelRequire(\"a10hu\");\n\nvar $LNAnF = parcelRequire(\"LNAnF\");\nconst { document: $d165020245160cdf$var$document, MutationObserver: $d165020245160cdf$var$MutationObserver } = globalThis;\nconst $d165020245160cdf$export$80bf2f765c31be6a = (element, changedPath)=>{\n    const dataBindings = (0, $LNAnF.elementToBindings).get(element);\n    if (dataBindings == null) return;\n    for (const dataBinding of dataBindings){\n        const { binding: binding, options: options } = dataBinding;\n        let { path: path } = dataBinding;\n        const { toDOM: toDOM } = binding;\n        if (toDOM != null) {\n            if (path.startsWith('^')) {\n                const dataSource = (0, $LNAnF.getListItem)(element);\n                if (dataSource != null && dataSource[0, $LNAnF.XIN_PATH] != null) path = dataBinding.path = `${dataSource[0, $LNAnF.XIN_PATH]}${path.substring(1)}`;\n                else {\n                    console.error(`Cannot resolve relative binding ${path}`, element, 'is not part of a list');\n                    throw new Error(`Cannot resolve relative binding ${path}`);\n                }\n            }\n            if (changedPath == null || path.startsWith(changedPath)) toDOM(element, (0, $aQzlW.xin)[path], options);\n        }\n    }\n};\n// this is just to allow bind to be testable in node\nif ($d165020245160cdf$var$MutationObserver != null) {\n    const observer = new $d165020245160cdf$var$MutationObserver((mutationsList)=>{\n        mutationsList.forEach((mutation)=>{\n            [\n                ...mutation.addedNodes\n            ].forEach((node)=>{\n                if (node instanceof Element) [\n                    ...node.querySelectorAll((0, $LNAnF.BOUND_SELECTOR))\n                ].forEach((element)=>$d165020245160cdf$export$80bf2f765c31be6a(element));\n            });\n        });\n    });\n    observer.observe($d165020245160cdf$var$document.body, {\n        subtree: true,\n        childList: true\n    });\n}\n(0, $aQzlW.observe)(()=>true, (changedPath)=>{\n    const boundElements = $d165020245160cdf$var$document.querySelectorAll((0, $LNAnF.BOUND_SELECTOR));\n    for (const element of boundElements)$d165020245160cdf$export$80bf2f765c31be6a(element, changedPath);\n});\nconst $d165020245160cdf$var$handleChange = (event)=>{\n    // @ts-expect-error-error\n    let target = event.target.closest((0, $LNAnF.BOUND_SELECTOR));\n    while(target != null){\n        const dataBindings = (0, $LNAnF.elementToBindings).get(target);\n        for (const dataBinding of dataBindings){\n            const { binding: binding, path: path } = dataBinding;\n            const { fromDOM: fromDOM } = binding;\n            if (fromDOM != null) {\n                let value;\n                try {\n                    value = fromDOM(target, dataBinding.options);\n                } catch (e) {\n                    console.error('Cannot get value from', target, 'via', dataBinding);\n                    throw new Error('Cannot obtain value fromDOM');\n                }\n                if (value != null) {\n                    const existing = (0, $aQzlW.xin)[path];\n                    if (existing == null) (0, $aQzlW.xin)[path] = value;\n                    else {\n                        const existingActual = // @ts-expect-error-error\n                        existing[0, $LNAnF.XIN_PATH] != null ? existing[0, $LNAnF.XIN_VALUE] : existing;\n                        const valueActual = value[0, $LNAnF.XIN_PATH] != null ? value[0, $LNAnF.XIN_VALUE] : value;\n                        if (existingActual !== valueActual) (0, $aQzlW.xin)[path] = valueActual;\n                    }\n                }\n            }\n        }\n        target = target.parentElement.closest((0, $LNAnF.BOUND_SELECTOR));\n    }\n};\nif (globalThis.document != null) {\n    $d165020245160cdf$var$document.body.addEventListener('change', $d165020245160cdf$var$handleChange, true);\n    $d165020245160cdf$var$document.body.addEventListener('input', $d165020245160cdf$var$handleChange, true);\n}\nfunction $d165020245160cdf$export$2385a24977818dd0(element, what, binding, options) {\n    if (element instanceof DocumentFragment) throw new Error('bind cannot bind to a DocumentFragment');\n    let path;\n    if (typeof what === 'object' && what[0, $LNAnF.XIN_PATH] === undefined && options === undefined) {\n        const { value: value } = what;\n        path = typeof value === 'string' ? value : value[0, $LNAnF.XIN_PATH];\n        options = what;\n        delete options.value;\n    } else path = typeof what === 'string' ? what : what[0, $LNAnF.XIN_PATH];\n    if (path == null) throw new Error('bind requires a path or object with xin Proxy');\n    const { toDOM: toDOM } = binding;\n    element.classList?.add((0, $LNAnF.BOUND_CLASS));\n    let dataBindings = (0, $LNAnF.elementToBindings).get(element);\n    if (dataBindings == null) {\n        dataBindings = [];\n        (0, $LNAnF.elementToBindings).set(element, dataBindings);\n    }\n    dataBindings.push({\n        path: path,\n        binding: binding,\n        options: options\n    });\n    if (toDOM != null && !path.startsWith('^')) // not calling toDOM directly here allows virtual list bindings to work\n    (0, $a10hu.touch)(path);\n    return element;\n}\nconst $d165020245160cdf$var$handledEventTypes = new Set();\nconst $d165020245160cdf$var$handleBoundEvent = (event)=>{\n    // @ts-expect-error-error\n    let target = event?.target.closest((0, $LNAnF.EVENT_SELECTOR));\n    let propagationStopped = false;\n    const wrappedEvent = new Proxy(event, {\n        get (target, prop) {\n            if (prop === 'stopPropagation') return ()=>{\n                event.stopPropagation();\n                propagationStopped = true;\n            };\n            else {\n                // @ts-expect-error-error\n                const value = target[prop];\n                return typeof value === 'function' ? value.bind(target) : value;\n            }\n        }\n    });\n    while(!propagationStopped && target != null){\n        const eventBindings = (0, $LNAnF.elementToHandlers).get(target);\n        const handlers = eventBindings[event.type] || [];\n        for (const handler of handlers){\n            if (typeof handler === 'function') handler(wrappedEvent);\n            else {\n                const func = (0, $aQzlW.xin)[handler];\n                if (typeof func === 'function') func(wrappedEvent);\n                else throw new Error(`no event handler found at path ${handler}`);\n            }\n            if (propagationStopped) continue;\n        }\n        target = target.parentElement != null ? target.parentElement.closest((0, $LNAnF.EVENT_SELECTOR)) : null;\n    }\n};\nconst $d165020245160cdf$export$af631764ddc44097 = (element, eventType, eventHandler)=>{\n    let eventBindings = (0, $LNAnF.elementToHandlers).get(element);\n    element.classList.add((0, $LNAnF.EVENT_CLASS));\n    if (eventBindings == null) {\n        eventBindings = {};\n        (0, $LNAnF.elementToHandlers).set(element, eventBindings);\n    }\n    if (!eventBindings[eventType]) eventBindings[eventType] = [];\n    if (!eventBindings[eventType].includes(eventHandler)) eventBindings[eventType].push(eventHandler);\n    if (!$d165020245160cdf$var$handledEventTypes.has(eventType)) {\n        $d165020245160cdf$var$handledEventTypes.add(eventType);\n        $d165020245160cdf$var$document.body.addEventListener(eventType, $d165020245160cdf$var$handleBoundEvent, true);\n    }\n};\n\n});\nparcelRegister(\"aQzlW\", function(module, exports) {\n\n$parcel$export(module.exports, \"xin\", () => $5d68f8b093886143$export$966034e6c6823eb0);\n$parcel$export(module.exports, \"observe\", () => $5d68f8b093886143$export$d1203567a167490e);\n$parcel$export(module.exports, \"boxed\", () => $5d68f8b093886143$export$fd1b43749dd321e5);\n$parcel$export(module.exports, \"updates\", () => (parcelRequire(\"a10hu\")).updates);\n$parcel$export(module.exports, \"touch\", () => (parcelRequire(\"a10hu\")).touch);\n$parcel$export(module.exports, \"unobserve\", () => (parcelRequire(\"a10hu\")).unobserve);\n$parcel$export(module.exports, \"observerShouldBeRemoved\", () => (parcelRequire(\"a10hu\")).observerShouldBeRemoved);\n\nvar $3DOGY = parcelRequire(\"3DOGY\");\n\nvar $a10hu = parcelRequire(\"a10hu\");\n\nvar $jaUp1 = parcelRequire(\"jaUp1\");\n\nvar $LNAnF = parcelRequire(\"LNAnF\");\n// list of Array functions that change the array\nconst $5d68f8b093886143$var$ARRAY_MUTATIONS = [\n    'sort',\n    'splice',\n    'copyWithin',\n    'fill',\n    'pop',\n    'push',\n    'reverse',\n    'shift',\n    'unshift'\n];\nconst $5d68f8b093886143$var$registry = {};\nconst $5d68f8b093886143$var$debugPaths = true;\nconst $5d68f8b093886143$var$validPath = /^\\.?([^.[\\](),])+(\\.[^.[\\](),]+|\\[\\d+\\]|\\[[^=[\\](),]*=[^[\\]()]+\\])*$/;\nconst $5d68f8b093886143$export$a678af82bf766611 = (path)=>$5d68f8b093886143$var$validPath.test(path);\nconst $5d68f8b093886143$var$extendPath = (path = '', prop = '')=>{\n    if (path === '') return prop;\n    else {\n        if (prop.match(/^\\d+$/) !== null || prop.includes('=')) return `${path}[${prop}]`;\n        else return `${path}.${prop}`;\n    }\n};\nconst $5d68f8b093886143$var$boxes = {\n    string (s) {\n        return new String(s);\n    },\n    boolean (b) {\n        return new Boolean(b);\n    },\n    bigint (b) {\n        return b;\n    },\n    symbol (s) {\n        return s;\n    },\n    number (n) {\n        return new Number(n);\n    }\n};\nfunction $5d68f8b093886143$var$box(x, path) {\n    const t = typeof x;\n    if (x === undefined || t === 'object' || t === 'function') return x;\n    else return new Proxy($5d68f8b093886143$var$boxes[t](x), $5d68f8b093886143$var$regHandler(path, true));\n}\nconst $5d68f8b093886143$var$regHandler = (path, boxScalars)=>({\n        // TODO figure out how to correctly return array[Symbol.iterator] so that for(const foo of xin.foos) works\n        // as you'd expect\n        get (target, _prop) {\n            if (_prop === (0, $LNAnF.XIN_PATH)) return path;\n            else if (_prop === (0, $LNAnF.XIN_VALUE)) {\n                while((0, $LNAnF.xinPath)(target) !== undefined)target = (0, $LNAnF.xinValue)(target);\n                return target;\n            }\n            if (typeof _prop === 'symbol') return target[_prop];\n            let prop = _prop;\n            const compoundProp = prop.match(/^([^.[]+)\\.(.+)$/) ?? // basePath.subPath (omit '.')\n            prop.match(/^([^\\]]+)(\\[.+)/) ?? // basePath[subPath\n            prop.match(/^(\\[[^\\]]+\\])\\.(.+)$/) ?? // [basePath].subPath (omit '.')\n            prop.match(/^(\\[[^\\]]+\\])\\[(.+)$/) // [basePath][subPath\n            ;\n            if (compoundProp !== null) {\n                const [, basePath, subPath] = compoundProp;\n                const currentPath = $5d68f8b093886143$var$extendPath(path, basePath);\n                const value = (0, $jaUp1.getByPath)(target, basePath);\n                return value !== null && typeof value === 'object' ? new Proxy(value, $5d68f8b093886143$var$regHandler(currentPath, boxScalars))[subPath] : value;\n            }\n            if (prop.startsWith('[') && prop.endsWith(']')) prop = prop.substring(1, prop.length - 1);\n            if (!Array.isArray(target) && target[prop] !== undefined || Array.isArray(target) && prop.includes('=')) {\n                let value;\n                if (prop.includes('=')) {\n                    const [idPath, needle] = prop.split('=');\n                    value = target.find((candidate)=>`${(0, $jaUp1.getByPath)(candidate, idPath)}` === needle);\n                } else value = target[prop];\n                if (value !== null && typeof value === 'object') {\n                    const currentPath = $5d68f8b093886143$var$extendPath(path, prop);\n                    return new Proxy(value, $5d68f8b093886143$var$regHandler(currentPath, boxScalars));\n                } else if (typeof value === 'function') return value.bind(target);\n                else return boxScalars ? $5d68f8b093886143$var$box(value, $5d68f8b093886143$var$extendPath(path, prop)) : value;\n            } else if (Array.isArray(target)) {\n                const value = target[prop];\n                return typeof value === 'function' ? (...items)=>{\n                    // @ts-expect-error seriously?\n                    const result = Array.prototype[prop].apply(target, items);\n                    if ($5d68f8b093886143$var$ARRAY_MUTATIONS.includes(prop)) (0, $a10hu.touch)(path);\n                    return result;\n                } : typeof value === 'object' ? new Proxy(value, $5d68f8b093886143$var$regHandler($5d68f8b093886143$var$extendPath(path, prop), boxScalars)) : boxScalars ? $5d68f8b093886143$var$box(value, $5d68f8b093886143$var$extendPath(path, prop)) : value;\n            } else return boxScalars ? $5d68f8b093886143$var$box(target[prop], $5d68f8b093886143$var$extendPath(path, prop)) : target[prop];\n        },\n        set (_, prop, value) {\n            value = (0, $LNAnF.xinValue)(value);\n            const fullPath = $5d68f8b093886143$var$extendPath(path, prop);\n            if ($5d68f8b093886143$var$debugPaths && !$5d68f8b093886143$export$a678af82bf766611(fullPath)) throw new Error(`setting invalid path ${fullPath}`);\n            const existing = (0, $LNAnF.xinValue)($5d68f8b093886143$export$966034e6c6823eb0[fullPath]);\n            if (existing !== value && (0, $jaUp1.setByPath)($5d68f8b093886143$var$registry, fullPath, value)) (0, $a10hu.touch)(fullPath);\n            return true;\n        }\n    });\nconst $5d68f8b093886143$export$d1203567a167490e = (test, callback)=>{\n    const func = typeof callback === 'function' ? callback : $5d68f8b093886143$export$966034e6c6823eb0[callback];\n    if (typeof func !== 'function') throw new Error(`observe expects a function or path to a function, ${callback} is neither`);\n    return (0, $a10hu.observe)(test, func);\n};\nconst $5d68f8b093886143$export$966034e6c6823eb0 = new Proxy($5d68f8b093886143$var$registry, $5d68f8b093886143$var$regHandler('', false));\nconst $5d68f8b093886143$export$fd1b43749dd321e5 = new Proxy($5d68f8b093886143$var$registry, $5d68f8b093886143$var$regHandler('', true));\n\n});\nparcelRegister(\"3DOGY\", function(module, exports) {\n\n$parcel$export(module.exports, \"settings\", () => $431d87cffae1b706$export$a5a6e0b888b2c992);\nconst $431d87cffae1b706$export$a5a6e0b888b2c992 = {\n    debug: false,\n    perf: false\n};\n\n});\n\nparcelRegister(\"a10hu\", function(module, exports) {\n\n$parcel$export(module.exports, \"observerShouldBeRemoved\", () => $de0f84e31db1d985$export$253d09664e30b967);\n$parcel$export(module.exports, \"updates\", () => $de0f84e31db1d985$export$1c2919332513559b);\n$parcel$export(module.exports, \"unobserve\", () => $de0f84e31db1d985$export$23a2283368c55ea2);\n$parcel$export(module.exports, \"touch\", () => $de0f84e31db1d985$export$d0b7ea69ab6056df);\n$parcel$export(module.exports, \"observe\", () => $de0f84e31db1d985$export$d1203567a167490e);\n\nvar $LNAnF = parcelRequire(\"LNAnF\");\n\nvar $3DOGY = parcelRequire(\"3DOGY\");\nconst $de0f84e31db1d985$export$253d09664e30b967 = Symbol('observer should be removed');\nconst $de0f84e31db1d985$export$58bed631278dbc67 = [] // { path_string_or_test, callback }\n;\nconst $de0f84e31db1d985$var$touchedPaths = [];\nlet $de0f84e31db1d985$var$updateTriggered = false;\nlet $de0f84e31db1d985$var$updatePromise;\nlet $de0f84e31db1d985$var$resolveUpdate;\nclass $de0f84e31db1d985$export$c92b1d5f43586026 {\n    constructor(test, callback){\n        const callbackDescription = typeof callback === 'string' ? `\"${callback}\"` : `function ${callback.name}`;\n        let testDescription;\n        if (typeof test === 'string') {\n            this.test = (t)=>typeof t === 'string' && t !== '' && (test.startsWith(t) || t.startsWith(test));\n            testDescription = `test = \"${test}\"`;\n        } else if (test instanceof RegExp) {\n            this.test = test.test.bind(test);\n            testDescription = `test = \"${test.toString()}\"`;\n        } else if (test instanceof Function) {\n            this.test = test;\n            testDescription = `test = function ${test.name}`;\n        } else throw new Error('expect listener test to be a string, RegExp, or test function');\n        this.description = `${testDescription}, ${callbackDescription}`;\n        if (typeof callback === 'function') this.callback = callback;\n        else throw new Error('expect callback to be a path or function');\n        $de0f84e31db1d985$export$58bed631278dbc67.push(this);\n    }\n}\nconst $de0f84e31db1d985$export$1c2919332513559b = async ()=>{\n    if ($de0f84e31db1d985$var$updatePromise === undefined) return;\n    await $de0f84e31db1d985$var$updatePromise;\n};\nconst $de0f84e31db1d985$var$update = ()=>{\n    if ((0, $3DOGY.settings).perf) console.time('xin async update');\n    const paths = [\n        ...$de0f84e31db1d985$var$touchedPaths\n    ];\n    for (const path of paths)$de0f84e31db1d985$export$58bed631278dbc67.filter((listener)=>{\n        let heard;\n        try {\n            heard = listener.test(path);\n        } catch (e) {\n            throw new Error(`Listener ${listener.description} threw \"${e}\" at \"${path}\"`);\n        }\n        if (heard === $de0f84e31db1d985$export$253d09664e30b967) {\n            $de0f84e31db1d985$export$23a2283368c55ea2(listener);\n            return false;\n        }\n        return heard;\n    }).forEach((listener)=>{\n        let outcome;\n        try {\n            outcome = listener.callback(path);\n        } catch (e) {\n            console.error(`Listener ${listener.description} threw \"${e}\" handling \"${path}\"`);\n        }\n        if (outcome === $de0f84e31db1d985$export$253d09664e30b967) $de0f84e31db1d985$export$23a2283368c55ea2(listener);\n    });\n    $de0f84e31db1d985$var$touchedPaths.splice(0);\n    $de0f84e31db1d985$var$updateTriggered = false;\n    if (typeof $de0f84e31db1d985$var$resolveUpdate === 'function') $de0f84e31db1d985$var$resolveUpdate();\n    if ((0, $3DOGY.settings).perf) console.timeEnd('xin async update');\n};\nconst $de0f84e31db1d985$export$d0b7ea69ab6056df = (touchable)=>{\n    const path = typeof touchable === 'string' ? touchable : (0, $LNAnF.xinPath)(touchable);\n    if (path === undefined) {\n        console.error('touch was called on an invalid target', touchable);\n        throw new Error('touch was called on an invalid target');\n    }\n    if ($de0f84e31db1d985$var$updateTriggered === false) {\n        $de0f84e31db1d985$var$updatePromise = new Promise((resolve)=>{\n            $de0f84e31db1d985$var$resolveUpdate = resolve;\n        });\n        $de0f84e31db1d985$var$updateTriggered = setTimeout($de0f84e31db1d985$var$update);\n    }\n    if ($de0f84e31db1d985$var$touchedPaths.find((touchedPath)=>path.startsWith(touchedPath)) == null) $de0f84e31db1d985$var$touchedPaths.push(path);\n};\nconst $de0f84e31db1d985$export$d1203567a167490e = (test, callback)=>{\n    return new $de0f84e31db1d985$export$c92b1d5f43586026(test, callback);\n};\nconst $de0f84e31db1d985$export$23a2283368c55ea2 = (listener)=>{\n    const index = $de0f84e31db1d985$export$58bed631278dbc67.indexOf(listener);\n    if (index > -1) $de0f84e31db1d985$export$58bed631278dbc67.splice(index, 1);\n    else throw new Error('unobserve failed, listener not found');\n};\n\n});\nparcelRegister(\"LNAnF\", function(module, exports) {\n\n$parcel$export(module.exports, \"BOUND_CLASS\", () => $fc871d27afcbf39a$export$c6592bbc1eebb717);\n$parcel$export(module.exports, \"BOUND_SELECTOR\", () => $fc871d27afcbf39a$export$4c0223f67078aeac);\n$parcel$export(module.exports, \"EVENT_CLASS\", () => $fc871d27afcbf39a$export$6a7099543a9795c7);\n$parcel$export(module.exports, \"EVENT_SELECTOR\", () => $fc871d27afcbf39a$export$21d9322c3477441b);\n$parcel$export(module.exports, \"XIN_PATH\", () => $fc871d27afcbf39a$export$a3622eb3b5dd592a);\n$parcel$export(module.exports, \"XIN_VALUE\", () => $fc871d27afcbf39a$export$bdd0d039ad781534);\n$parcel$export(module.exports, \"xinPath\", () => $fc871d27afcbf39a$export$40700dafb97c3799);\n$parcel$export(module.exports, \"xinValue\", () => $fc871d27afcbf39a$export$5dcba2d45033d435);\n$parcel$export(module.exports, \"elementToHandlers\", () => $fc871d27afcbf39a$export$fe712848e6e66613);\n$parcel$export(module.exports, \"elementToBindings\", () => $fc871d27afcbf39a$export$1f922de8d0ecbb7e);\n$parcel$export(module.exports, \"cloneWithBindings\", () => $fc871d27afcbf39a$export$fa8cc6a36b1ccd7f);\n$parcel$export(module.exports, \"elementToItem\", () => $fc871d27afcbf39a$export$86caed35dd837d06);\n$parcel$export(module.exports, \"getListItem\", () => $fc871d27afcbf39a$export$4c309843c07ce679);\n\nvar $90dPN = parcelRequire(\"90dPN\");\nconst $fc871d27afcbf39a$export$c6592bbc1eebb717 = '-xin-data';\nconst $fc871d27afcbf39a$export$4c0223f67078aeac = `.${$fc871d27afcbf39a$export$c6592bbc1eebb717}`;\nconst $fc871d27afcbf39a$export$6a7099543a9795c7 = '-xin-event';\nconst $fc871d27afcbf39a$export$21d9322c3477441b = `.${$fc871d27afcbf39a$export$6a7099543a9795c7}`;\nconst $fc871d27afcbf39a$export$a3622eb3b5dd592a = Symbol('xin-path');\nconst $fc871d27afcbf39a$export$bdd0d039ad781534 = Symbol('xin-value');\nconst $fc871d27afcbf39a$export$40700dafb97c3799 = (x)=>{\n    return x[$fc871d27afcbf39a$export$a3622eb3b5dd592a];\n};\nfunction $fc871d27afcbf39a$export$5dcba2d45033d435(x) {\n    return typeof x === 'object' && x !== null ? x[$fc871d27afcbf39a$export$bdd0d039ad781534] || x : x;\n}\nconst $fc871d27afcbf39a$export$fe712848e6e66613 = new WeakMap();\nconst $fc871d27afcbf39a$export$1f922de8d0ecbb7e = new WeakMap();\nconst $fc871d27afcbf39a$export$4cac8128ba61a55f = (element)=>{\n    return {\n        eventBindings: $fc871d27afcbf39a$export$fe712848e6e66613.get(element),\n        dataBindings: $fc871d27afcbf39a$export$1f922de8d0ecbb7e.get(element)\n    };\n};\nconst $fc871d27afcbf39a$export$fa8cc6a36b1ccd7f = (element)=>{\n    const cloned = element.cloneNode();\n    if (cloned instanceof Element) {\n        const dataBindings = $fc871d27afcbf39a$export$1f922de8d0ecbb7e.get(element);\n        const eventHandlers = $fc871d27afcbf39a$export$fe712848e6e66613.get(element);\n        if (dataBindings != null) // @ts-expect-error-error\n        $fc871d27afcbf39a$export$1f922de8d0ecbb7e.set(cloned, (0, $90dPN.deepClone)(dataBindings));\n        if (eventHandlers != null) // @ts-expect-error-error\n        $fc871d27afcbf39a$export$fe712848e6e66613.set(cloned, (0, $90dPN.deepClone)(eventHandlers));\n    }\n    for (const node of element instanceof HTMLTemplateElement ? element.content.childNodes : element.childNodes)if (node instanceof Element || node instanceof DocumentFragment) cloned.appendChild($fc871d27afcbf39a$export$fa8cc6a36b1ccd7f(node));\n    else cloned.appendChild(node.cloneNode());\n    return cloned;\n};\nconst $fc871d27afcbf39a$export$86caed35dd837d06 = new WeakMap();\nconst $fc871d27afcbf39a$export$4c309843c07ce679 = (element)=>{\n    const html = document.body.parentElement;\n    while(element.parentElement != null && element.parentElement !== html){\n        const item = $fc871d27afcbf39a$export$86caed35dd837d06.get(element);\n        if (item != null) return item;\n        element = element.parentElement;\n    }\n    return false;\n};\n\n});\nparcelRegister(\"90dPN\", function(module, exports) {\n\n$parcel$export(module.exports, \"deepClone\", () => $324ad9265fd7ec5b$export$b7d58db314e0ac27);\nfunction $324ad9265fd7ec5b$export$b7d58db314e0ac27(obj) {\n    if (obj == null || typeof obj !== 'object') return obj;\n    if (Array.isArray(obj)) return obj.map($324ad9265fd7ec5b$export$b7d58db314e0ac27);\n    const clone = {};\n    for(const key in obj){\n        const val = obj[key];\n        if (obj != null && typeof obj === 'object') clone[key] = $324ad9265fd7ec5b$export$b7d58db314e0ac27(val);\n        else clone[key] = val;\n    }\n    return clone;\n}\n\n});\n\n\n\nparcelRegister(\"jaUp1\", function(module, exports) {\n\n$parcel$export(module.exports, \"getByPath\", () => $90757103be394558$export$44b5bed83342a92f);\n$parcel$export(module.exports, \"setByPath\", () => $90757103be394558$export$f65a19d15516795e);\n// unique tokens passed to set by path to delete or create properties\n\nvar $7Gp5e = parcelRequire(\"7Gp5e\");\nconst $90757103be394558$var$now36 = ()=>new Date(parseInt('1000000000', 36) + Date.now()).valueOf().toString(36).slice(1);\nlet $90757103be394558$var$_seq = 0;\nconst $90757103be394558$var$seq = ()=>(parseInt('10000', 36) + ++$90757103be394558$var$_seq).toString(36).slice(-5);\nconst $90757103be394558$var$id = ()=>$90757103be394558$var$now36() + $90757103be394558$var$seq();\nconst $90757103be394558$var$_delete_ = {};\nconst $90757103be394558$var$_newObject_ = {};\nfunction $90757103be394558$export$f5d2dd4cfd729958(path) {\n    if (path === '') return [];\n    if (Array.isArray(path)) return path;\n    else {\n        const parts = [];\n        while(path.length > 0){\n            let index = path.search(/\\[[^\\]]+\\]/);\n            if (index === -1) {\n                parts.push(path.split('.'));\n                break;\n            } else {\n                const part = path.slice(0, index);\n                path = path.slice(index);\n                if (part !== '') parts.push(part.split('.'));\n                index = path.indexOf(']') + 1;\n                parts.push(path.slice(1, index - 1));\n                // handle paths dereferencing array element like foo[0].id\n                if (path.slice(index, index + 1) === '.') index += 1;\n                path = path.slice(index);\n            }\n        }\n        return parts;\n    }\n}\nconst $90757103be394558$var$idPathMaps = new WeakMap();\nfunction $90757103be394558$var$buildIdPathValueMap(array, idPath) {\n    if ($90757103be394558$var$idPathMaps.get(array) === undefined) $90757103be394558$var$idPathMaps.set(array, {});\n    if ($90757103be394558$var$idPathMaps.get(array)[idPath] === undefined) $90757103be394558$var$idPathMaps.get(array)[idPath] = {};\n    const map = $90757103be394558$var$idPathMaps.get(array)[idPath];\n    if (idPath === '_auto_') array.forEach((item, idx)=>{\n        if (item._auto_ === undefined) item._auto_ = $90757103be394558$var$id();\n        map[item._auto_ + ''] = idx;\n    });\n    else array.forEach((item, idx)=>{\n        map[$90757103be394558$export$44b5bed83342a92f(item, idPath) + ''] = idx;\n    });\n    return map;\n}\nfunction $90757103be394558$var$getIdPathMap(array, idPath) {\n    if ($90757103be394558$var$idPathMaps.get(array) === undefined || $90757103be394558$var$idPathMaps.get(array)[idPath] === undefined) return $90757103be394558$var$buildIdPathValueMap(array, idPath);\n    else return $90757103be394558$var$idPathMaps.get(array)[idPath];\n}\nfunction $90757103be394558$var$keyToIndex(array, idPath, idValue) {\n    idValue = idValue + '';\n    let idx = $90757103be394558$var$getIdPathMap(array, idPath)[idValue];\n    if (idx === undefined || $90757103be394558$export$44b5bed83342a92f(array[idx], idPath) + '' !== idValue) idx = $90757103be394558$var$buildIdPathValueMap(array, idPath)[idValue];\n    return idx;\n}\nfunction $90757103be394558$var$byKey(obj, key, valueToInsert) {\n    if (obj[key] === undefined && valueToInsert !== undefined) obj[key] = valueToInsert;\n    return obj[key];\n}\nfunction $90757103be394558$var$byIdPath(array, idPath, idValue, valueToInsert) {\n    let idx = idPath !== '' ? $90757103be394558$var$keyToIndex(array, idPath, idValue) : idValue;\n    if (valueToInsert === $90757103be394558$var$_delete_) {\n        array.splice(idx, 1);\n        $90757103be394558$var$idPathMaps.delete(array);\n        return Symbol('deleted');\n    } else if (valueToInsert === $90757103be394558$var$_newObject_) {\n        if (idPath === '' && array[idx] === undefined) array[idx] = {};\n    } else if (valueToInsert !== undefined) {\n        if (idx !== undefined) array[idx] = valueToInsert;\n        else if (idPath !== '' && $90757103be394558$export$44b5bed83342a92f(valueToInsert, idPath) + '' === idValue + '') {\n            array.push(valueToInsert);\n            idx = array.length - 1;\n        } else throw new Error(`byIdPath insert failed at [${idPath}=${idValue}]`);\n    }\n    return array[idx];\n}\nfunction $90757103be394558$var$expectArray(obj) {\n    if (!Array.isArray(obj)) throw (0, $7Gp5e.makeError)('setByPath failed: expected array, found', obj);\n}\nfunction $90757103be394558$var$expectObject(obj) {\n    if (obj == null || !(obj instanceof Object)) throw (0, $7Gp5e.makeError)('setByPath failed: expected Object, found', obj);\n}\nfunction $90757103be394558$export$44b5bed83342a92f(obj, path) {\n    const parts = $90757103be394558$export$f5d2dd4cfd729958(path);\n    let found = obj;\n    let i, iMax, j, jMax;\n    for(i = 0, iMax = parts.length; found !== undefined && i < iMax; i++){\n        const part = parts[i];\n        if (Array.isArray(part)) for(j = 0, jMax = part.length; found !== undefined && j < jMax; j++){\n            const key = part[j];\n            found = found[key];\n        }\n        else {\n            if (found.length === 0) {\n                // @ts-expect-error-error\n                found = found[part.slice(1)];\n                if (part[0] !== '=') return undefined;\n            } else if (part.includes('=')) {\n                const [idPath, ...tail] = part.split('=');\n                found = $90757103be394558$var$byIdPath(found, idPath, tail.join('='));\n            } else {\n                j = parseInt(part, 10);\n                found = found[j];\n            }\n        }\n    }\n    return found;\n}\nfunction $90757103be394558$export$f65a19d15516795e(orig, path, val) {\n    let obj = orig;\n    const parts = $90757103be394558$export$f5d2dd4cfd729958(path);\n    while(obj != null && parts.length > 0){\n        const part = parts.shift();\n        if (typeof part === 'string') {\n            const equalsOffset = part.indexOf('=');\n            if (equalsOffset > -1) {\n                if (equalsOffset === 0) $90757103be394558$var$expectObject(obj);\n                else $90757103be394558$var$expectArray(obj);\n                const idPath = part.slice(0, equalsOffset);\n                const idValue = part.slice(equalsOffset + 1);\n                obj = $90757103be394558$var$byIdPath(obj, idPath, idValue, parts.length > 0 ? $90757103be394558$var$_newObject_ : val);\n                if (parts.length === 0) return true;\n            } else {\n                $90757103be394558$var$expectArray(obj);\n                const idx = parseInt(part, 10);\n                if (parts.length > 0) obj = obj[idx];\n                else {\n                    if (val !== $90757103be394558$var$_delete_) {\n                        if (obj[idx] === val) return false;\n                        obj[idx] = val;\n                    } else obj.splice(idx, 1);\n                    return true;\n                }\n            }\n        } else if (Array.isArray(part) && part.length > 0) {\n            $90757103be394558$var$expectObject(obj);\n            while(part.length > 0){\n                const key = part.shift();\n                if (part.length > 0 || parts.length > 0) // if we're at the end of part.length then we need to insert an array\n                obj = $90757103be394558$var$byKey(obj, key, part.length > 0 ? {} : []);\n                else {\n                    if (val !== $90757103be394558$var$_delete_) {\n                        if (obj[key] === val) return false;\n                        obj[key] = val;\n                    } else {\n                        if (!Object.prototype.hasOwnProperty.call(obj, key)) return false;\n                        delete obj[key];\n                    }\n                    return true;\n                }\n            }\n        } else throw new Error(`setByPath failed, bad path ${path}`);\n    }\n    throw new Error(`setByPath(${orig}, ${path}, ${val}) failed`);\n}\nfunction $90757103be394558$export$102e532907108dad(orig, path) {\n    if ($90757103be394558$export$44b5bed83342a92f(orig, path) !== null) $90757103be394558$export$f65a19d15516795e(orig, path, $90757103be394558$var$_delete_);\n}\n\n});\nparcelRegister(\"7Gp5e\", function(module, exports) {\n\n$parcel$export(module.exports, \"makeError\", () => $9c8ee0b1e1b7d62b$export$5a4bb2b1c89bdce7);\nconst $9c8ee0b1e1b7d62b$var$stringify = (x)=>{\n    try {\n        return JSON.stringify(x);\n    } catch (_) {\n        return '{has circular references}';\n    }\n};\nconst $9c8ee0b1e1b7d62b$export$5a4bb2b1c89bdce7 = (...messages)=>new Error(messages.map($9c8ee0b1e1b7d62b$var$stringify).join(' '));\n\n});\n\n\n\n\nparcelRegister(\"i7v8b\", function(module, exports) {\n\n$parcel$export(module.exports, \"bindings\", () => $3a4453529c7602e5$export$97a1a3e6f39778d2);\n\nvar $jCAAx = parcelRequire(\"jCAAx\");\n\nvar $2wmet = parcelRequire(\"2wmet\");\nconst $3a4453529c7602e5$export$97a1a3e6f39778d2 = {\n    value: {\n        toDOM: (0, $2wmet.setValue),\n        fromDOM (element) {\n            return (0, $2wmet.getValue)(element);\n        }\n    },\n    set: {\n        toDOM: (0, $2wmet.setValue)\n    },\n    text: {\n        toDOM (element, value) {\n            element.textContent = value;\n        }\n    },\n    enabled: {\n        toDOM (element, value) {\n            element.disabled = !value;\n        }\n    },\n    disabled: {\n        toDOM (element, value) {\n            element.disabled = Boolean(value);\n        }\n    },\n    style: {\n        toDOM (element, value) {\n            if (typeof value === 'object') for (const prop of Object.keys(value))// @ts-expect-error typescript has a strange/incorrect idea of what element.style is\n            element.style[prop] = value[prop];\n            else if (typeof value === 'string') element.setAttribute('style', value);\n            else throw new Error('style binding expects either a string or object');\n        }\n    },\n    list: {\n        toDOM (element, value, options) {\n            const listBinding = (0, $jCAAx.getListBinding)(element, options);\n            listBinding.update(value);\n        }\n    }\n};\n\n});\nparcelRegister(\"jCAAx\", function(module, exports) {\n\n$parcel$export(module.exports, \"getListBinding\", () => $01a9fd6c1733697a$export$b0eb386be3b9fed8);\n\nvar $3DOGY = parcelRequire(\"3DOGY\");\n\nvar $2wmet = parcelRequire(\"2wmet\");\n\nvar $hANL8 = parcelRequire(\"hANL8\");\n\nvar $aQzlW = parcelRequire(\"aQzlW\");\n\nvar $LNAnF = parcelRequire(\"LNAnF\");\nconst $01a9fd6c1733697a$var$listBindingRef = Symbol('list-binding');\nconst $01a9fd6c1733697a$var$SLICE_INTERVAL_MS = 16 // 60fps\n;\nfunction $01a9fd6c1733697a$var$updateRelativeBindings(element, path) {\n    const boundElements = [\n        ...element.querySelectorAll((0, $LNAnF.BOUND_SELECTOR))\n    ];\n    if (element.matches((0, $LNAnF.BOUND_SELECTOR))) boundElements.unshift(element);\n    for (const boundElement of boundElements){\n        const bindings = (0, $LNAnF.elementToBindings).get(boundElement);\n        for (const binding of bindings){\n            if (binding.path.startsWith('^')) binding.path = `${path}${binding.path.substring(1)}`;\n            if (binding.binding.toDOM != null) binding.binding.toDOM(boundElement, (0, $aQzlW.xin)[binding.path]);\n        }\n    }\n}\nclass $01a9fd6c1733697a$var$ListBinding {\n    constructor(boundElement, options = {}){\n        this._array = [];\n        this.boundElement = boundElement;\n        this.itemToElement = new WeakMap();\n        if (boundElement.children.length !== 1) throw new Error('ListBinding expects an element with exactly one child element');\n        if (boundElement.children[0] instanceof HTMLTemplateElement) {\n            const template = boundElement.children[0];\n            if (template.content.children.length !== 1) throw new Error('ListBinding expects a template with exactly one child element');\n            this.template = (0, $LNAnF.cloneWithBindings)(template.content.children[0]);\n        } else {\n            this.template = boundElement.children[0];\n            this.template.remove();\n        }\n        this.listTop = document.createElement('div');\n        this.listBottom = document.createElement('div');\n        this.boundElement.append(this.listTop);\n        this.boundElement.append(this.listBottom);\n        this.options = options;\n        if (options.virtual != null) {\n            (0, $2wmet.resizeObserver).observe(this.boundElement);\n            this._update = (0, $hANL8.throttle)(()=>{\n                this.update(this._array, true);\n            }, $01a9fd6c1733697a$var$SLICE_INTERVAL_MS);\n            this.boundElement.addEventListener('scroll', this._update);\n            this.boundElement.addEventListener('resize', this._update);\n        }\n    }\n    visibleSlice() {\n        const { virtual: virtual, hiddenProp: hiddenProp, visibleProp: visibleProp } = this.options;\n        let visibleArray = this._array;\n        if (hiddenProp !== undefined) visibleArray = visibleArray.filter((item)=>item[hiddenProp] !== true);\n        if (visibleProp !== undefined) visibleArray = visibleArray.filter((item)=>item[visibleProp] === true);\n        let firstItem = 0;\n        let lastItem = visibleArray.length - 1;\n        let topBuffer = 0;\n        let bottomBuffer = 0;\n        if (virtual != null && this.boundElement instanceof HTMLElement) {\n            const width = this.boundElement.offsetWidth;\n            const height = this.boundElement.offsetHeight;\n            const visibleColumns = virtual.width != null ? Math.max(1, Math.floor(width / virtual.width)) : 1;\n            const visibleRows = Math.ceil(height / virtual.height) + 1;\n            const totalRows = Math.ceil(visibleArray.length / visibleColumns);\n            const visibleItems = visibleColumns * visibleRows;\n            let topRow = Math.floor(this.boundElement.scrollTop / virtual.height);\n            if (topRow > totalRows - visibleRows + 1) topRow = Math.max(0, totalRows - visibleRows + 1);\n            firstItem = topRow * visibleColumns;\n            lastItem = firstItem + visibleItems - 1;\n            topBuffer = topRow * virtual.height;\n            bottomBuffer = Math.max(totalRows * virtual.height - height - topBuffer, 0);\n        }\n        return {\n            items: visibleArray,\n            firstItem: firstItem,\n            lastItem: lastItem,\n            topBuffer: topBuffer,\n            bottomBuffer: bottomBuffer\n        };\n    }\n    update(array, isSlice) {\n        if (array == null) array = [];\n        this._array = array;\n        const { hiddenProp: hiddenProp, visibleProp: visibleProp } = this.options;\n        const arrayPath = (0, $LNAnF.xinPath)(array);\n        const slice = this.visibleSlice();\n        this.boundElement.classList.toggle('-xin-empty-list', slice.items.length === 0);\n        const previousSlice = this._previousSlice;\n        const { firstItem: firstItem, lastItem: lastItem, topBuffer: topBuffer, bottomBuffer: bottomBuffer } = slice;\n        if (hiddenProp === undefined && visibleProp === undefined && isSlice === true && previousSlice != null && firstItem === previousSlice.firstItem && lastItem === previousSlice.lastItem) return;\n        this._previousSlice = slice;\n        let removed = 0;\n        let moved = 0;\n        let created = 0;\n        for (const element of [\n            ...this.boundElement.children\n        ]){\n            if (element === this.listTop || element === this.listBottom) continue;\n            const proxy = (0, $LNAnF.elementToItem).get(element);\n            if (proxy == null) element.remove();\n            else {\n                const idx = slice.items.indexOf(proxy);\n                if (idx < firstItem || idx > lastItem) {\n                    element.remove();\n                    this.itemToElement.delete(proxy);\n                    (0, $LNAnF.elementToItem).delete(element);\n                    removed++;\n                }\n            }\n        }\n        this.listTop.style.height = String(topBuffer) + 'px';\n        this.listBottom.style.height = String(bottomBuffer) + 'px';\n        // build a complete new set of elements in the right order\n        const elements = [];\n        const { idPath: idPath } = this.options;\n        for(let i = firstItem; i <= lastItem; i++){\n            const item = slice.items[i];\n            if (item === undefined) continue;\n            let element = this.itemToElement.get((0, $LNAnF.xinValue)(item));\n            if (element == null) {\n                created++;\n                element = (0, $LNAnF.cloneWithBindings)(this.template);\n                if (typeof item === 'object') {\n                    this.itemToElement.set((0, $LNAnF.xinValue)(item), element);\n                    (0, $LNAnF.elementToItem).set(element, (0, $LNAnF.xinValue)(item));\n                }\n                this.boundElement.insertBefore(element, this.listBottom);\n                if (idPath != null) {\n                    const idValue = item[idPath];\n                    const itemPath = `${arrayPath}[${idPath}=${idValue}]`;\n                    $01a9fd6c1733697a$var$updateRelativeBindings(element, itemPath);\n                } else {\n                    const itemPath = `${arrayPath}[${i}]`;\n                    $01a9fd6c1733697a$var$updateRelativeBindings(element, itemPath);\n                }\n            }\n            elements.push(element);\n        }\n        // make sure all the elements are in the DOM and in the correct location\n        let insertionPoint = null;\n        for (const element of elements){\n            if (element.previousElementSibling !== insertionPoint) {\n                moved++;\n                if (insertionPoint?.nextElementSibling != null) this.boundElement.insertBefore(element, insertionPoint.nextElementSibling);\n                else this.boundElement.insertBefore(element, this.listBottom);\n            }\n            insertionPoint = element;\n        }\n        if ((0, $3DOGY.settings).perf) console.log(arrayPath, 'updated', {\n            removed: removed,\n            created: created,\n            moved: moved\n        });\n    }\n}\nconst $01a9fd6c1733697a$export$b0eb386be3b9fed8 = (boundElement, options)=>{\n    let listBinding = boundElement[$01a9fd6c1733697a$var$listBindingRef];\n    if (listBinding === undefined) {\n        listBinding = new $01a9fd6c1733697a$var$ListBinding(boundElement, options);\n        boundElement[$01a9fd6c1733697a$var$listBindingRef] = listBinding;\n    }\n    return listBinding;\n};\n\n});\nparcelRegister(\"2wmet\", function(module, exports) {\n\n$parcel$export(module.exports, \"dispatch\", () => $4f9ba97dad88433d$export$635e15bbd66f01ea);\n$parcel$export(module.exports, \"setValue\", () => $4f9ba97dad88433d$export$80746c6bc6142fc8);\n$parcel$export(module.exports, \"getValue\", () => $4f9ba97dad88433d$export$bf7199a9ebcb84a9);\n$parcel$export(module.exports, \"resizeObserver\", () => $4f9ba97dad88433d$export$b13421f1ae71d316);\n$parcel$export(module.exports, \"appendContentToElement\", () => $4f9ba97dad88433d$export$6bb13967611cdb1);\n\nvar $LNAnF = parcelRequire(\"LNAnF\");\nconst $4f9ba97dad88433d$export$635e15bbd66f01ea = (target, type)=>{\n    const event = new Event(type);\n    target.dispatchEvent(event);\n};\nconst $4f9ba97dad88433d$var$valueType = (element)=>{\n    if (element instanceof HTMLInputElement) return element.type;\n    else if (element instanceof HTMLSelectElement && element.hasAttribute('multiple')) return 'multi-select';\n    else return 'other';\n};\nconst $4f9ba97dad88433d$export$80746c6bc6142fc8 = (element, newValue)=>{\n    switch($4f9ba97dad88433d$var$valueType(element)){\n        case 'radio':\n            element.checked = element.value === newValue;\n            break;\n        case 'checkbox':\n            element.checked = !!newValue;\n            break;\n        case 'date':\n            element.valueAsDate = new Date(newValue);\n            break;\n        case 'multi-select':\n            for (const option of [\n                ...element.querySelectorAll('option')\n            ])option.selected = newValue[option.value];\n            break;\n        default:\n            element.value = newValue;\n    }\n};\nconst $4f9ba97dad88433d$export$bf7199a9ebcb84a9 = (element)=>{\n    switch($4f9ba97dad88433d$var$valueType(element)){\n        case 'radio':\n            {\n                const radio = element.parentElement?.querySelector(`[name=\"${element.name}\"]:checked`);\n                return radio != null ? radio.value : null;\n            }\n        case 'checkbox':\n            return element.checked;\n        case 'date':\n            return element.valueAsDate?.toISOString();\n        case 'multi-select':\n            return [\n                ...element.querySelectorAll('option')\n            ].reduce((map, option)=>{\n                map[option.value] = option.selected;\n                return map;\n            }, {});\n        default:\n            return element.value;\n    }\n};\nconst { ResizeObserver: $4f9ba97dad88433d$var$ResizeObserver } = globalThis;\nconst $4f9ba97dad88433d$export$b13421f1ae71d316 = $4f9ba97dad88433d$var$ResizeObserver != null ? new $4f9ba97dad88433d$var$ResizeObserver((entries)=>{\n    for (const entry of entries){\n        const element = entry.target;\n        $4f9ba97dad88433d$export$635e15bbd66f01ea(element, 'resize');\n    }\n}) : {\n    observe () {},\n    unobserve () {}\n};\nconst $4f9ba97dad88433d$export$6bb13967611cdb1 = (elt, content, cloneElements = true)=>{\n    if (elt != null && content != null) {\n        if (typeof content === 'string') elt.textContent = content;\n        else if (Array.isArray(content)) content.forEach((node)=>{\n            elt.append(node instanceof Node && cloneElements ? (0, $LNAnF.cloneWithBindings)(node) : node);\n        });\n        else if (content instanceof Node) elt.append(cloneElements ? (0, $LNAnF.cloneWithBindings)(content) : content);\n        else throw new Error('expect text content or document node');\n    }\n};\n\n});\n\nparcelRegister(\"hANL8\", function(module, exports) {\n\n$parcel$export(module.exports, \"debounce\", () => $4a3ba1b45110c477$export$61fc7d43ac8f84b0);\n$parcel$export(module.exports, \"throttle\", () => $4a3ba1b45110c477$export$de363e709c412c8a);\nconst $4a3ba1b45110c477$export$61fc7d43ac8f84b0 = (origFn, minInterval = 250)=>{\n    let debounceId;\n    return (...args)=>{\n        if (debounceId !== undefined) clearTimeout(debounceId);\n        debounceId = setTimeout(()=>{\n            origFn(...args);\n        }, minInterval);\n    };\n};\nconst $4a3ba1b45110c477$export$de363e709c412c8a = (origFn, minInterval = 250)=>{\n    let debounceId;\n    let previousCall = Date.now() - minInterval;\n    let inFlight = false;\n    return (...args)=>{\n        clearTimeout(debounceId);\n        debounceId = setTimeout(async ()=>{\n            origFn(...args);\n            previousCall = Date.now();\n        }, minInterval);\n        if (!inFlight && Date.now() - previousCall >= minInterval) {\n            inFlight = true;\n            try {\n                origFn(...args);\n                previousCall = Date.now();\n            } finally{\n                inFlight = false;\n            }\n        }\n    };\n};\n\n});\n\n\n\nparcelRegister(\"3iPSl\", function(module, exports) {\n\n$parcel$export(module.exports, \"camelToKabob\", () => $8287b4a0c42d6d79$export$87ae551bf60f4bb);\n$parcel$export(module.exports, \"kabobToCamel\", () => $8287b4a0c42d6d79$export$fd322201efdc650f);\nfunction $8287b4a0c42d6d79$export$87ae551bf60f4bb(s) {\n    return s.replace(/[A-Z]/g, (c)=>{\n        return `-${c.toLocaleLowerCase()}`;\n    });\n}\nfunction $8287b4a0c42d6d79$export$fd322201efdc650f(s) {\n    return s.replace(/-([a-z])/g, (_, c)=>{\n        return c.toLocaleUpperCase();\n    });\n}\n\n});\n\n\n\n\nparcelRegister(\"b9MJ6\", function(module, exports) {\n\n$parcel$export(module.exports, \"makeComponent\", () => $bd988bd6d6d6ff33$export$3bc26eec1cc2439f);\n\nvar $6NN4x = parcelRequire(\"6NN4x\");\n\nvar $4yWux = parcelRequire(\"4yWux\");\n\nvar $fz28b = parcelRequire(\"fz28b\");\n\nvar $2p5zh = parcelRequire(\"2p5zh\");\n\nvar $aMSvW = parcelRequire(\"aMSvW\");\nconst $bd988bd6d6d6ff33$export$7564cc5630cf4caa = {};\nfunction $bd988bd6d6d6ff33$export$3bc26eec1cc2439f(tag, blueprint) {\n    const { type: type, styleSpec: styleSpec } = blueprint(tag, {\n        Color: $6NN4x.Color,\n        Component: $4yWux.Component,\n        elements: $2p5zh.elements,\n        svgElements: $2p5zh.svgElements,\n        mathML: $2p5zh.mathML,\n        varDefault: $fz28b.varDefault,\n        vars: $fz28b.vars,\n        xinProxy: $aMSvW.xinProxy\n    });\n    const packagedComponent = {\n        type: type,\n        creator: type.elementCreator({\n            tag: tag,\n            styleSpec: styleSpec\n        })\n    };\n    $bd988bd6d6d6ff33$export$7564cc5630cf4caa[tag] = packagedComponent;\n    return packagedComponent;\n}\n\n});\nparcelRegister(\"aMSvW\", function(module, exports) {\n\n$parcel$export(module.exports, \"boxedProxy\", () => $7c408001ca0a23f8$export$5ac756d3522a2a00);\n$parcel$export(module.exports, \"xinProxy\", () => $7c408001ca0a23f8$export$95a552d2395ab4c4);\n\nvar $aQzlW = parcelRequire(\"aQzlW\");\nfunction $7c408001ca0a23f8$export$5ac756d3522a2a00(obj) {\n    Object.assign((0, $aQzlW.boxed), obj);\n    return 0, $aQzlW.boxed;\n}\nlet $7c408001ca0a23f8$var$deprecationMessage = false;\nfunction $7c408001ca0a23f8$export$95a552d2395ab4c4(obj, boxed = false) {\n    if (boxed) {\n        if (!$7c408001ca0a23f8$var$deprecationMessage) {\n            console.warn(`xinProxy(..., true) is deprecated; use boxedProxy(...) instead`);\n            $7c408001ca0a23f8$var$deprecationMessage = true;\n        }\n        return $7c408001ca0a23f8$export$5ac756d3522a2a00(obj);\n    }\n    Object.keys(obj).forEach((key)=>{\n        (0, $aQzlW.xin)[key] = obj[key];\n    });\n    return 0, $aQzlW.xin;\n}\n\n});\n\n\n\n/*\n  Note that re-exported types should be explicitly and separately exported\n  as types because of issues with parceljs\n\n  The error messages will be very perplexing\n\n  https://github.com/parcel-bundler/parcel/issues/4796\n  https://github.com/parcel-bundler/parcel/issues/4240\n  https://devblogs.microsoft.com/typescript/announcing-typescript-3-8/#type-only-imports-exports\n*/ \nvar $hgaE9 = parcelRequire(\"hgaE9\");\n\nvar $i7v8b = parcelRequire(\"i7v8b\");\n\nvar $fz28b = parcelRequire(\"fz28b\");\n\nvar $6NN4x = parcelRequire(\"6NN4x\");\n\nvar $4yWux = parcelRequire(\"4yWux\");\n\nvar $2p5zh = parcelRequire(\"2p5zh\");\n\nvar $aQzlW = parcelRequire(\"aQzlW\");\n\nvar $LNAnF = parcelRequire(\"LNAnF\");\n\nvar $hANL8 = parcelRequire(\"hANL8\");\nconst $b71156193afa7077$export$93b87f7746612069 = (test = ()=>true)=>{\n    const savedState = localStorage.getItem('xin-state');\n    if (savedState != null) {\n        const state = JSON.parse(savedState);\n        for (const key of Object.keys(state).filter(test))if ((0, $aQzlW.xin)[key] !== undefined) Object.assign((0, $aQzlW.xin)[key], state[key]);\n        else (0, $aQzlW.xin)[key] = state[key];\n    }\n    const saveState = (0, $hANL8.debounce)(()=>{\n        const obj = {};\n        const state = (0, $aQzlW.xin)[0, $LNAnF.XIN_VALUE];\n        for (const key of Object.keys(state).filter(test))obj[key] = state[key];\n        localStorage.setItem('xin-state', JSON.stringify(obj));\n        console.log('xin state saved to localStorage');\n    }, 500);\n    (0, $aQzlW.observe)(test, saveState);\n};\n\n\n\nvar $LNAnF = parcelRequire(\"LNAnF\");\n\nvar $b9MJ6 = parcelRequire(\"b9MJ6\");\n\nvar $1pBIY = parcelRequire(\"1pBIY\");\n\nvar $3DOGY = parcelRequire(\"3DOGY\");\n\nvar $hANL8 = parcelRequire(\"hANL8\");\n\nvar $aQzlW = parcelRequire(\"aQzlW\");\nvar $a10hu = parcelRequire(\"a10hu\");\nparcelRequire(\"2ifUx\");\nvar $a376b834c897bffd$exports = {};\n\n\n\nvar $aMSvW = parcelRequire(\"aMSvW\");\n\n\nvar $d165020245160cdf$export$2385a24977818dd0 = parcelRequire(\"hgaE9\").bind;\nvar $d165020245160cdf$export$af631764ddc44097 = parcelRequire(\"hgaE9\").on;\nvar $3a4453529c7602e5$export$97a1a3e6f39778d2 = parcelRequire(\"i7v8b\").bindings;\nvar $4d116130f980647c$export$dbf350e5966cf602 = parcelRequire(\"fz28b\").css;\nvar $4d116130f980647c$export$8279dba9b7d4e420 = parcelRequire(\"fz28b\").invertLuminance;\nvar $4d116130f980647c$export$808aaf1b460dc9af = parcelRequire(\"fz28b\").darkMode;\nvar $4d116130f980647c$export$90d0ea046136e3ed = parcelRequire(\"fz28b\").initVars;\nvar $4d116130f980647c$export$3cb96c9f6c8d16a4 = parcelRequire(\"fz28b\").vars;\nvar $4d116130f980647c$export$75c0e6adb3e38f31 = parcelRequire(\"fz28b\").varDefault;\nvar $4d116130f980647c$export$9d753cd7ae895cce = parcelRequire(\"fz28b\").StyleSheet;\nvar $ebe12b957d7ffb42$export$892596cec99bc70e = parcelRequire(\"6NN4x\").Color;\nvar $065ec34f90b90178$export$16fa2f45be04daa8 = parcelRequire(\"4yWux\").Component;\nvar $1fadd05c13944ca9$export$7a5d735b2ab6389d = parcelRequire(\"2p5zh\").elements;\nvar $1fadd05c13944ca9$export$cf20112a1bc148da = parcelRequire(\"2p5zh\").svgElements;\nvar $1fadd05c13944ca9$export$8ec252cfdd664597 = parcelRequire(\"2p5zh\").mathML;\nvar $fc871d27afcbf39a$export$4c309843c07ce679 = parcelRequire(\"LNAnF\").getListItem;\nvar $fc871d27afcbf39a$export$40700dafb97c3799 = parcelRequire(\"LNAnF\").xinPath;\nvar $fc871d27afcbf39a$export$5dcba2d45033d435 = parcelRequire(\"LNAnF\").xinValue;\nvar $bd988bd6d6d6ff33$export$3bc26eec1cc2439f = parcelRequire(\"b9MJ6\").makeComponent;\nvar $35ded60743a49eea$export$5e0dd9fd5d74e0c5 = parcelRequire(\"1pBIY\").MoreMath;\nvar $431d87cffae1b706$export$a5a6e0b888b2c992 = parcelRequire(\"3DOGY\").settings;\nvar $4a3ba1b45110c477$export$de363e709c412c8a = parcelRequire(\"hANL8\").throttle;\nvar $4a3ba1b45110c477$export$61fc7d43ac8f84b0 = parcelRequire(\"hANL8\").debounce;\nvar $5d68f8b093886143$export$966034e6c6823eb0 = parcelRequire(\"aQzlW\").xin;\nvar $5d68f8b093886143$export$fd1b43749dd321e5 = parcelRequire(\"aQzlW\").boxed;\nvar $5d68f8b093886143$export$d1203567a167490e = parcelRequire(\"aQzlW\").observe;\nvar $de0f84e31db1d985$export$23a2283368c55ea2 = parcelRequire(\"a10hu\").unobserve;\nvar $de0f84e31db1d985$export$d0b7ea69ab6056df = parcelRequire(\"a10hu\").touch;\nvar $de0f84e31db1d985$export$253d09664e30b967 = parcelRequire(\"a10hu\").observerShouldBeRemoved;\nvar $de0f84e31db1d985$export$1c2919332513559b = parcelRequire(\"a10hu\").updates;\nvar $7c408001ca0a23f8$export$95a552d2395ab4c4 = parcelRequire(\"aMSvW\").xinProxy;\nvar $7c408001ca0a23f8$export$5ac756d3522a2a00 = parcelRequire(\"aMSvW\").boxedProxy;\nvar Blueprint = parcelRequire(\"2ifUx\").Blueprint;\nvar blueprint = parcelRequire(\"2ifUx\").blueprint;\nvar BlueprintLoader = parcelRequire(\"2ifUx\").BlueprintLoader;\nvar blueprintLoader = parcelRequire(\"2ifUx\").blueprintLoader;\nvar $6641ca2092fa5e2e$exports = parcelRequire(\"2ifUx\")[\"*\"];\nexport {$d165020245160cdf$export$2385a24977818dd0 as bind, $d165020245160cdf$export$af631764ddc44097 as on, $3a4453529c7602e5$export$97a1a3e6f39778d2 as bindings, $4d116130f980647c$export$dbf350e5966cf602 as css, $4d116130f980647c$export$8279dba9b7d4e420 as invertLuminance, $4d116130f980647c$export$808aaf1b460dc9af as darkMode, $4d116130f980647c$export$90d0ea046136e3ed as initVars, $4d116130f980647c$export$3cb96c9f6c8d16a4 as vars, $4d116130f980647c$export$75c0e6adb3e38f31 as varDefault, $4d116130f980647c$export$9d753cd7ae895cce as StyleSheet, $ebe12b957d7ffb42$export$892596cec99bc70e as Color, $065ec34f90b90178$export$16fa2f45be04daa8 as Component, $1fadd05c13944ca9$export$7a5d735b2ab6389d as elements, $1fadd05c13944ca9$export$cf20112a1bc148da as svgElements, $1fadd05c13944ca9$export$8ec252cfdd664597 as mathML, $b71156193afa7077$export$93b87f7746612069 as hotReload, $fc871d27afcbf39a$export$4c309843c07ce679 as getListItem, $fc871d27afcbf39a$export$40700dafb97c3799 as xinPath, $fc871d27afcbf39a$export$5dcba2d45033d435 as xinValue, $bd988bd6d6d6ff33$export$3bc26eec1cc2439f as makeComponent, $35ded60743a49eea$export$5e0dd9fd5d74e0c5 as MoreMath, $431d87cffae1b706$export$a5a6e0b888b2c992 as settings, $4a3ba1b45110c477$export$de363e709c412c8a as throttle, $4a3ba1b45110c477$export$61fc7d43ac8f84b0 as debounce, $5d68f8b093886143$export$966034e6c6823eb0 as xin, $5d68f8b093886143$export$fd1b43749dd321e5 as boxed, $5d68f8b093886143$export$d1203567a167490e as observe, $de0f84e31db1d985$export$23a2283368c55ea2 as unobserve, $de0f84e31db1d985$export$d0b7ea69ab6056df as touch, $de0f84e31db1d985$export$253d09664e30b967 as observerShouldBeRemoved, $de0f84e31db1d985$export$1c2919332513559b as updates, $7c408001ca0a23f8$export$95a552d2395ab4c4 as xinProxy, $7c408001ca0a23f8$export$5ac756d3522a2a00 as boxedProxy, Blueprint, blueprint, BlueprintLoader, blueprintLoader, $6641ca2092fa5e2e$exports as default};\n//# sourceMappingURL=index.js.map\n","import { Component } from './component'\nimport {\n  makeComponent,\n  XinBlueprint,\n  XinPackagedComponent,\n} from './make-component'\n\nexport class Blueprint extends Component {\n  tag = 'anon-elt'\n  src = ''\n  property = 'default'\n  loaded?: XinPackagedComponent\n\n  async packaged(): Promise<XinPackagedComponent> {\n    if (!this.loaded) {\n      const { tag, src } = this\n      const imported = await eval(`import('${src}')`)\n      const blueprint = imported[this.property] as XinBlueprint\n      this.loaded = makeComponent(tag, blueprint)\n    }\n    return this.loaded!\n  }\n\n  constructor() {\n    super()\n\n    this.initAttributes('tag', 'src', 'property')\n  }\n}\n\nexport const blueprint = Blueprint.elementCreator({\n  tag: 'xin-blueprint',\n  styleSpec: { ':host': { display: 'none' } },\n})\n\nexport class BlueprintLoader extends Component {\n  constructor() {\n    super()\n  }\n\n  private async load() {\n    const blueprintElements = (\n      [...this.querySelectorAll(Blueprint.tagName as string)] as Blueprint[]\n    ).filter((elt) => elt.src)\n    const promises = blueprintElements.map((elt) => elt.packaged())\n    await Promise.all(promises)\n  }\n\n  connectedCallback() {\n    super.connectedCallback()\n\n    this.load()\n  }\n}\n\nexport const blueprintLoader = BlueprintLoader.elementCreator({\n  tag: 'xin-loader',\n  styleSpec: { ':host': { display: 'none' } },\n})\n","import { css } from './css'\nimport { XinStyleSheet } from './css-types'\nimport { deepClone } from './deep-clone'\nimport { appendContentToElement, dispatch, resizeObserver } from './dom'\nimport { elements, ElementsProxy } from './elements'\nimport { camelToKabob, kabobToCamel } from './string-case'\nimport { ElementCreator, ContentType, PartsMap } from './xin-types'\n\nlet anonymousElementCount = 0\n\nfunction anonElementTag(): string {\n  return `custom-elt${(anonymousElementCount++).toString(36)}`\n}\nlet instanceCount = 0\n\ninterface ElementCreatorOptions extends ElementDefinitionOptions {\n  tag?: string\n  styleSpec?: XinStyleSheet\n}\n\nconst globalStyleSheets: {\n  [key: string]: string\n} = {}\n\nfunction setGlobalStyle(tagName: string, styleSpec: XinStyleSheet) {\n  const existing = globalStyleSheets[tagName]\n  const processed = css(styleSpec).replace(/:host\\b/g, tagName)\n  globalStyleSheets[tagName] = existing\n    ? existing + '\\n' + processed\n    : processed\n}\n\nfunction insertGlobalStyles(tagName: string) {\n  if (globalStyleSheets[tagName]) {\n    document.head.append(\n      elements.style({ id: tagName + '-component' }, globalStyleSheets[tagName])\n    )\n  }\n  delete globalStyleSheets[tagName]\n}\n\nexport abstract class Component<T = PartsMap> extends HTMLElement {\n  static elements: ElementsProxy = elements\n  private static _elementCreator?: ElementCreator<Component>\n  instanceId: string\n  styleNode?: HTMLStyleElement\n  static styleSpec?: XinStyleSheet\n  static styleNode?: HTMLStyleElement\n  content: ContentType | (() => ContentType) | null = elements.slot()\n  isSlotted?: boolean\n  private static _tagName: null | string = null\n  static get tagName(): null | string {\n    return this._tagName\n  }\n  [key: string]: any\n\n  static StyleNode(styleSpec: XinStyleSheet): HTMLStyleElement {\n    console.warn(\n      'StyleNode is deprecated, just assign static styleSpec: XinStyleSheet to the class directly'\n    )\n    return elements.style(css(styleSpec))\n  }\n\n  static elementCreator(\n    options: ElementCreatorOptions = {}\n  ): ElementCreator<Component> {\n    if (this._elementCreator == null) {\n      const { tag, styleSpec } = options\n      let tagName = options != null ? tag : null\n      if (tagName == null) {\n        if (typeof this.name === 'string' && this.name !== '') {\n          tagName = camelToKabob(this.name)\n          if (tagName.startsWith('-')) {\n            tagName = tagName.slice(1)\n          }\n        } else {\n          tagName = anonElementTag()\n        }\n      }\n      if (customElements.get(tagName) != null) {\n        console.warn(`${tagName} is already defined`)\n      }\n      if (tagName.match(/\\w+(-\\w+)+/) == null) {\n        console.warn(`${tagName} is not a legal tag for a custom-element`)\n        tagName = anonElementTag()\n      }\n      while (customElements.get(tagName) !== undefined) {\n        tagName = anonElementTag()\n      }\n      this._tagName = tagName\n      if (styleSpec !== undefined) {\n        setGlobalStyle(tagName, styleSpec)\n      }\n      window.customElements.define(\n        tagName,\n        this as unknown as CustomElementConstructor,\n        options\n      )\n      this._elementCreator = elements[tagName]\n    }\n    return this._elementCreator\n  }\n\n  initAttributes(...attributeNames: string[]): void {\n    const attributes: { [key: string]: any } = {}\n    const attributeValues: { [key: string]: any } = {}\n    const observer = new MutationObserver((mutationsList) => {\n      let triggerRender = false\n      mutationsList.forEach((mutation) => {\n        triggerRender = !!(\n          mutation.attributeName &&\n          attributeNames.includes(kabobToCamel(mutation.attributeName))\n        )\n      })\n      if (triggerRender && this.queueRender !== undefined)\n        this.queueRender(false)\n    })\n    observer.observe(this, { attributes: true })\n    attributeNames.forEach((attributeName) => {\n      attributes[attributeName] = deepClone(this[attributeName])\n      const attributeKabob = camelToKabob(attributeName)\n      Object.defineProperty(this, attributeName, {\n        enumerable: false,\n        get() {\n          if (typeof attributes[attributeName] === 'boolean') {\n            return this.hasAttribute(attributeKabob)\n          } else {\n            if (this.hasAttribute(attributeKabob)) {\n              return typeof attributes[attributeName] === 'number'\n                ? parseFloat(this.getAttribute(attributeKabob))\n                : this.getAttribute(attributeKabob)\n            } else if (attributeValues[attributeName] !== undefined) {\n              return attributeValues[attributeName]\n            } else {\n              return attributes[attributeName]\n            }\n          }\n        },\n        set(value) {\n          if (typeof attributes[attributeName] === 'boolean') {\n            if (value !== this[attributeName]) {\n              if (value) {\n                this.setAttribute(attributeKabob, '')\n              } else {\n                this.removeAttribute(attributeKabob)\n              }\n              this.queueRender()\n            }\n          } else if (typeof attributes[attributeName] === 'number') {\n            if (value !== parseFloat(this[attributeName])) {\n              this.setAttribute(attributeKabob, value)\n              this.queueRender()\n            }\n          } else {\n            if (\n              typeof value === 'object' ||\n              `${value as string}` !== `${this[attributeName] as string}`\n            ) {\n              if (\n                value === null ||\n                value === undefined ||\n                typeof value === 'object'\n              ) {\n                this.removeAttribute(attributeKabob)\n              } else {\n                this.setAttribute(attributeKabob, value)\n              }\n              this.queueRender()\n              attributeValues[attributeName] = value\n            }\n          }\n        },\n      })\n    })\n  }\n\n  private initValue(): void {\n    const valueDescriptor = Object.getOwnPropertyDescriptor(this, 'value')\n    if (\n      valueDescriptor === undefined ||\n      valueDescriptor.get !== undefined ||\n      valueDescriptor.set !== undefined\n    ) {\n      return\n    }\n    let value = this.hasAttribute('value')\n      ? this.getAttribute('value')\n      : deepClone(this.value)\n    delete this.value\n    Object.defineProperty(this, 'value', {\n      enumerable: false,\n      get() {\n        return value\n      },\n      set(newValue: any) {\n        if (value !== newValue) {\n          value = newValue\n          this.queueRender(true)\n        }\n      },\n    })\n  }\n\n  private _parts?: T\n  get parts(): T {\n    const root = this.shadowRoot != null ? this.shadowRoot : this\n    if (this._parts == null) {\n      this._parts = new Proxy(\n        {},\n        {\n          get(target: any, ref: string) {\n            if (target[ref] === undefined) {\n              let element = root.querySelector(`[part=\"${ref}\"]`)\n              if (element == null) {\n                element = root.querySelector(ref)\n              }\n              if (element == null)\n                throw new Error(`elementRef \"${ref}\" does not exist!`)\n              element.removeAttribute('data-ref')\n              target[ref] = element as Element\n            }\n            return target[ref]\n          },\n        }\n      ) as T\n    }\n    return this._parts\n  }\n\n  constructor() {\n    super()\n    instanceCount += 1\n    this.initAttributes('hidden')\n    this.instanceId = `${this.tagName.toLocaleLowerCase()}-${instanceCount}`\n    this._value = deepClone(this.defaultValue)\n  }\n\n  connectedCallback(): void {\n    insertGlobalStyles((this.constructor as unknown as Component).tagName)\n    this.hydrate()\n    // super annoyingly, chrome loses its shit if you set *any* attributes in the constructor\n    if (this.role != null) this.setAttribute('role', this.role)\n    if (this.onResize !== undefined) {\n      resizeObserver.observe(this)\n      if (this._onResize == null) {\n        this._onResize = this.onResize.bind(this)\n      }\n      this.addEventListener('resize', this._onResize)\n    }\n    if (this.value != null && this.getAttribute('value') != null) {\n      this._value = this.getAttribute('value')\n    }\n    this.queueRender()\n  }\n\n  disconnectedCallback(): void {\n    resizeObserver.unobserve(this)\n  }\n\n  private _changeQueued = false\n  private _renderQueued = false\n  queueRender(triggerChangeEvent = false): void {\n    if (!this._hydrated) return\n    if (!this._changeQueued) this._changeQueued = triggerChangeEvent\n    if (!this._renderQueued) {\n      this._renderQueued = true\n      requestAnimationFrame(() => {\n        // TODO add mechanism to allow component developer to have more control over\n        // whether input vs. change events are emitted\n        if (this._changeQueued) dispatch(this, 'change')\n        this._changeQueued = false\n        this._renderQueued = false\n        this.render()\n      })\n    }\n  }\n\n  private _hydrated = false\n  private hydrate(): void {\n    if (!this._hydrated) {\n      this.initValue()\n      const cloneElements = typeof this.content !== 'function'\n      const _content: ContentType | null =\n        typeof this.content === 'function' ? this.content() : this.content\n\n      const { styleSpec } = this.constructor as unknown as Component\n      let { styleNode } = this.constructor as unknown as Component\n      if (styleSpec) {\n        styleNode = (this.constructor as unknown as Component).styleNode =\n          elements.style(css(styleSpec))\n        delete (this.constructor as unknown as Component).styleNode\n      }\n      if (this.styleNode) {\n        console.warn(\n          this,\n          'styleNode is deprecrated, use static styleNode or statc styleSpec instead'\n        )\n        styleNode = this.styleNode\n      }\n      if (styleNode) {\n        const shadow = this.attachShadow({ mode: 'open' })\n        shadow.appendChild(styleNode.cloneNode(true))\n        appendContentToElement(shadow, _content, cloneElements)\n      } else if (_content !== null) {\n        const existingChildren = [...this.childNodes]\n        appendContentToElement(this as HTMLElement, _content, cloneElements)\n        this.isSlotted = this.querySelector('slot,xin-slot') !== undefined\n        const slots = [...this.querySelectorAll('slot')]\n        if (slots.length > 0) {\n          slots.forEach(XinSlot.replaceSlot)\n        }\n        if (existingChildren.length > 0) {\n          const slotMap: { [key: string]: Element } = { '': this }\n          ;[...this.querySelectorAll('xin-slot')].forEach((slot) => {\n            slotMap[(slot as XinSlot).name] = slot\n          })\n          existingChildren.forEach((child) => {\n            const defaultSlot = slotMap['']\n            const destSlot =\n              child instanceof Element ? slotMap[child.slot] : defaultSlot\n            ;(destSlot !== undefined ? destSlot : defaultSlot).append(child)\n          })\n        }\n      }\n      this._hydrated = true\n    }\n  }\n\n  render(): void {}\n}\n\nclass XinSlot extends Component {\n  name = ''\n  content = null\n\n  static replaceSlot(slot: HTMLSlotElement): void {\n    const _slot = document.createElement('xin-slot')\n    if (slot.name !== '') {\n      _slot.setAttribute('name', slot.name)\n    }\n    slot.replaceWith(_slot)\n  }\n\n  constructor() {\n    super()\n    this.initAttributes('name')\n  }\n}\n\nexport const xinSlot = XinSlot.elementCreator({ tag: 'xin-slot' })\n","import { Color } from './color'\nimport { elements } from './elements'\nimport { camelToKabob } from './string-case'\nimport { XinStyleSheet, XinStyleRule } from './css-types'\n\nexport function StyleSheet(id: string, styleSpec: XinStyleSheet) {\n  const element = elements.style(css(styleSpec))\n  element.id = id\n  document.head.append(element)\n}\n\nconst numericProps = [\n  'animation-iteration-count',\n  'flex',\n  'flex-base',\n  'flex-grow',\n  'flex-shrink',\n  'opacity',\n  'order',\n  'tab-size',\n  'widows',\n  'z-index',\n  'zoom',\n]\n\nexport const processProp = (\n  prop: string,\n  value: string | number\n): { prop: string; value: string } => {\n  if (typeof value === 'number' && !numericProps.includes(prop)) {\n    value = `${value}px`\n  }\n  if (prop.startsWith('_')) {\n    if (prop.startsWith('__')) {\n      prop = '--' + prop.substring(2)\n      value = `var(${prop}-default, ${value})`\n    } else {\n      prop = '--' + prop.substring(1)\n    }\n  }\n  return {\n    prop,\n    value: String(value),\n  }\n}\n\nconst renderProp = (\n  indentation: string,\n  cssProp: string,\n  value: string | number | Color | undefined\n): string => {\n  if (value === undefined) {\n    return ''\n  }\n  if (value instanceof Color) {\n    value = value.html\n  }\n  const processed = processProp(cssProp, value)\n  return `${indentation}  ${processed.prop}: ${processed.value};`\n}\n\nconst renderStatement = (\n  key: string,\n  value: Color | string | number | XinStyleRule | undefined,\n  indentation = ''\n): string => {\n  const cssProp = camelToKabob(key)\n  if (typeof value === 'object' && !(value instanceof Color)) {\n    const renderedRule = Object.keys(value)\n      .map((innerKey) =>\n        renderStatement(innerKey, value[innerKey], `${indentation}  `)\n      )\n      .join('\\n')\n    return `${indentation}  ${key} {\\n${renderedRule}\\n${indentation}  }`\n  } else {\n    return renderProp(indentation, cssProp, value)\n  }\n}\n\nexport const css = (obj: XinStyleSheet, indentation = ''): string => {\n  const selectors = Object.keys(obj).map((selector) => {\n    const body = obj[selector]\n    if (typeof body === 'string') {\n      if (selector === '@import') {\n        return `@import url('${body}');`\n      }\n      throw new Error('top-level string value only allowed for `@import`')\n    }\n    const rule = Object.keys(body)\n      .map((prop) => renderStatement(prop, body[prop]))\n      .join('\\n')\n    return `${indentation}${selector} {\\n${rule}\\n}`\n  })\n  return selectors.join('\\n\\n')\n}\n\nexport const initVars = (obj: {\n  [key: string]: string | number\n}): XinStyleRule => {\n  console.warn('initVars is deprecated. Just use _ and __ prefixes instead.')\n  const rule: XinStyleRule = {}\n  for (const key of Object.keys(obj)) {\n    const value = obj[key]\n    const kabobKey = camelToKabob(key)\n    rule[`--${kabobKey}`] =\n      typeof value === 'number' && value !== 0 ? String(value) + 'px' : value\n  }\n  return rule\n}\n\nexport const darkMode = (obj: XinStyleRule): XinStyleRule => {\n  console.warn('darkMode is deprecated. Use inverseLuminance instead.')\n  const rule: XinStyleRule = {}\n  for (const key of Object.keys(obj)) {\n    let value = obj[key]\n    if (\n      typeof value === 'string' &&\n      value.match(/^(#|rgb[a]?\\(|hsl[a]?\\()/) != null\n    ) {\n      value = Color.fromCss(value).inverseLuminance.html\n      rule[`--${camelToKabob(key)}`] = value\n    }\n  }\n  return rule\n}\n\nexport const invertLuminance = (map: XinStyleRule): XinStyleRule => {\n  const inverted: XinStyleRule = {}\n\n  for (const key of Object.keys(map)) {\n    const value = map[key]\n    if (value instanceof Color) {\n      inverted[key] = value.inverseLuminance\n    } else if (\n      typeof value === 'string' &&\n      value.match(/^(#[0-9a-fA-F]{3}|rgba?\\(|hsla?\\()/)\n    ) {\n      inverted[key] = Color.fromCss(value).inverseLuminance\n    }\n  }\n\n  return inverted\n}\n\nexport const vars = new Proxy<{ [key: string]: string }>(\n  {},\n  {\n    get(target, prop: string) {\n      if (target[prop] == null) {\n        prop = prop.replace(/[A-Z]/g, (x) => `-${x.toLocaleLowerCase()}`)\n        const [, _varName, , isNegative, scaleText, method] = prop.match(\n          /^([^\\d_]*)((_)?(\\d+)(\\w*))?$/\n        ) as string[]\n        const varName = `--${_varName}`\n        if (scaleText != null) {\n          const scale =\n            isNegative == null\n              ? Number(scaleText) / 100\n              : -Number(scaleText) / 100\n          switch (method) {\n            case 'b': // brighten\n              {\n                const baseColor = getComputedStyle(\n                  document.body\n                ).getPropertyValue(varName)\n                target[prop] =\n                  scale > 0\n                    ? Color.fromCss(baseColor).brighten(scale).rgba\n                    : Color.fromCss(baseColor).darken(-scale).rgba\n              }\n              break\n            case 's': // saturate\n              {\n                const baseColor = getComputedStyle(\n                  document.body\n                ).getPropertyValue(varName)\n                target[prop] =\n                  scale > 0\n                    ? Color.fromCss(baseColor).saturate(scale).rgba\n                    : Color.fromCss(baseColor).desaturate(-scale).rgba\n              }\n              break\n            case 'h': // hue\n              {\n                const baseColor = getComputedStyle(\n                  document.body\n                ).getPropertyValue(varName)\n                target[prop] = Color.fromCss(baseColor).rotate(scale * 100).rgba\n                console.log(\n                  Color.fromCss(baseColor).hsla,\n                  Color.fromCss(baseColor).rotate(scale).hsla\n                )\n              }\n              break\n            case 'o': // alpha\n              {\n                const baseColor = getComputedStyle(\n                  document.body\n                ).getPropertyValue(varName)\n                target[prop] = Color.fromCss(baseColor).opacity(scale).rgba\n              }\n              break\n            case '':\n              target[prop] = `calc(var(${varName}) * ${scale})`\n              break\n            default:\n              console.error(method)\n              throw new Error(\n                `Unrecognized method ${method} for css variable ${varName}`\n              )\n          }\n        } else {\n          target[prop] = `var(${varName})`\n        }\n      }\n      return target[prop]\n    },\n  }\n)\n\ntype CssVarBuilder = (val: string | number) => string\n\nexport const varDefault = new Proxy<{ [key: string]: CssVarBuilder }>(\n  {},\n  {\n    get(target, prop: string) {\n      if (target[prop] === undefined) {\n        const varName = `--${prop.replace(\n          /[A-Z]/g,\n          (x) => `-${x.toLocaleLowerCase()}`\n        )}`\n        target[prop] = (val: string | number) => `var(${varName}, ${val})`\n      }\n      return target[prop]\n    },\n  }\n)\n","import { lerp, clamp } from './more-math'\nimport { CSSSystemColor } from './css-system-color'\n\n// http://www.itu.int/rec/R-REC-BT.601\nconst bt601 = (r: number, g: number, b: number): number => {\n  return (0.299 * r + 0.587 * g + 0.114 * b) / 255\n}\n\nconst hex2 = (n: number): string =>\n  ('00' + Math.round(Number(n)).toString(16)).slice(-2)\n\nclass HslColor {\n  h: number\n  s: number\n  l: number\n\n  constructor(r: number, g: number, b: number) {\n    r /= 255\n    g /= 255\n    b /= 255\n    const l = Math.max(r, g, b)\n    const s = l - Math.min(r, g, b)\n    const h =\n      s !== 0\n        ? l === r\n          ? (g - b) / s\n          : l === g\n          ? 2 + (b - r) / s\n          : 4 + (r - g) / s\n        : 0\n\n    this.h = 60 * h < 0 ? 60 * h + 360 : 60 * h\n    this.s = s !== 0 ? (l <= 0.5 ? s / (2 * l - s) : s / (2 - (2 * l - s))) : 0\n    this.l = (2 * l - s) / 2\n  }\n}\n\nconst span =\n  globalThis.document !== undefined\n    ? globalThis.document.createElement('span')\n    : undefined\nexport class Color {\n  r: number\n  g: number\n  b: number\n  a: number\n\n  static fromCss(spec: CSSSystemColor | string): Color {\n    let converted = spec\n    if (span instanceof HTMLSpanElement) {\n      span.style.color = spec\n      document.body.appendChild(span)\n      converted = getComputedStyle(span).color\n      span.remove()\n    }\n    const [r, g, b, a] = converted.match(/[\\d.]+/g) as string[]\n    return new Color(Number(r), Number(g), Number(b), a == null ? 1 : Number(a))\n  }\n\n  static fromHsl(h: number, s: number, l: number, a = 1): Color {\n    return Color.fromCss(\n      `hsla(${h.toFixed(0)}, ${(s * 100).toFixed(0)}%, ${(l * 100).toFixed(\n        0\n      )}%, ${a.toFixed(2)})`\n    )\n  }\n\n  constructor(r: number, g: number, b: number, a = 1) {\n    this.r = clamp(0, r, 255)\n    this.g = clamp(0, g, 255)\n    this.b = clamp(0, b, 255)\n    this.a = a !== undefined ? clamp(0, a, 1) : (a = 1)\n  }\n\n  get inverse(): Color {\n    return new Color(255 - this.r, 255 - this.g, 255 - this.b, this.a)\n  }\n\n  get inverseLuminance(): Color {\n    const { h, s, l } = this._hsl\n    return Color.fromHsl(h, s, 1 - l, this.a)\n  }\n\n  get rgb(): string {\n    const { r, g, b } = this\n    return `rgb(${r.toFixed(0)},${g.toFixed(0)},${b.toFixed(0)})`\n  }\n\n  get rgba(): string {\n    const { r, g, b, a } = this\n    return `rgba(${r.toFixed(0)},${g.toFixed(0)},${b.toFixed(0)},${a.toFixed(\n      2\n    )})`\n  }\n\n  get RGBA(): number[] {\n    return [this.r / 255, this.g / 255, this.b / 255, this.a]\n  }\n\n  get ARGB(): number[] {\n    return [this.a, this.r / 255, this.g / 255, this.b / 255]\n  }\n\n  private hslCached?: HslColor\n\n  get _hsl(): HslColor {\n    if (this.hslCached == null) {\n      this.hslCached = new HslColor(this.r, this.g, this.b)\n    }\n    return this.hslCached\n  }\n\n  get hsl(): string {\n    const { h, s, l } = this._hsl\n    return `hsl(${h.toFixed(0)}, ${(s * 100).toFixed(0)}%, ${(l * 100).toFixed(\n      0\n    )}%)`\n  }\n\n  get hsla(): string {\n    const { h, s, l } = this._hsl\n    return `hsla(${h.toFixed(0)}, ${(s * 100).toFixed(0)}%, ${(l * 100).toFixed(\n      0\n    )}%, ${this.a.toFixed(2)})`\n  }\n\n  get mono(): Color {\n    const v = this.brightness * 255\n    return new Color(v, v, v)\n  }\n\n  get brightness(): number {\n    return bt601(this.r, this.g, this.b)\n  }\n\n  get html(): string {\n    return this.toString()\n  }\n\n  toString(): string {\n    return this.a === 1\n      ? '#' + hex2(this.r) + hex2(this.g) + hex2(this.b)\n      : '#' +\n          hex2(this.r) +\n          hex2(this.g) +\n          hex2(this.b) +\n          hex2(Math.floor(255 * this.a))\n  }\n\n  brighten(amount: number): Color {\n    const { h, s, l } = this._hsl\n    const lClamped = clamp(0, l + amount * (1 - l), 1)\n    return Color.fromHsl(h, s, lClamped, this.a)\n  }\n\n  darken(amount: number): Color {\n    const { h, s, l } = this._hsl\n    const lClamped = clamp(0, l * (1 - amount), 1)\n    return Color.fromHsl(h, s, lClamped, this.a)\n  }\n\n  saturate(amount: number): Color {\n    const { h, s, l } = this._hsl\n    const sClamped = clamp(0, s + amount * (1 - s), 1)\n    return Color.fromHsl(h, sClamped, l, this.a)\n  }\n\n  desaturate(amount: number): Color {\n    const { h, s, l } = this._hsl\n    const sClamped = clamp(0, s * (1 - amount), 1)\n    return Color.fromHsl(h, sClamped, l, this.a)\n  }\n\n  rotate(amount: number): Color {\n    const { h, s, l } = this._hsl\n    const hClamped = (h + 360 + amount) % 360\n    return Color.fromHsl(hClamped, s, l, this.a)\n  }\n\n  opacity(alpha: number): Color {\n    const { h, s, l } = this._hsl\n    return Color.fromHsl(h, s, l, alpha)\n  }\n\n  swatch(): Color {\n    const { r, g, b, a } = this\n    console.log(\n      `%c      %c ${this.html}, rgba(${r}, ${g}, ${b}, ${a}), ${this.hsla}`,\n      `background-color: rgba(${r}, ${g}, ${b}, ${a})`,\n      'background-color: transparent'\n    )\n    return this\n  }\n\n  blend(otherColor: Color, t: number): Color {\n    return new Color(\n      lerp(this.r, otherColor.r, t),\n      lerp(this.g, otherColor.g, t),\n      lerp(this.b, otherColor.b, t),\n      lerp(this.a, otherColor.a, t)\n    )\n  }\n\n  mix(otherColor: Color, t: number): Color {\n    const a = this._hsl\n    const b = otherColor._hsl\n    return Color.fromHsl(\n      lerp(a.h, b.h, t),\n      lerp(a.s, b.s, t),\n      lerp(a.l, b.l, t),\n      lerp(this.a, otherColor.a, t)\n    )\n  }\n}\n","/*\n# more-math\n\nSome simple functions egregiously missing from `Math`\n*/\n\nexport const RADIANS_TO_DEGREES = 180 / Math.PI\nexport const DEGREES_TO_RADIANS = Math.PI / 180\n\nexport function clamp(min: number, v: number, max: number): number {\n  return v < min ? min : v > max ? max : v\n}\n\nexport function lerp(a: number, b: number, t: number): number {\n  t = clamp(0, t, 1)\n  return t * (b - a) + a\n}\n\nexport const MoreMath = {\n  clamp,\n  lerp,\n}\n","import { bind, on } from './bind'\nimport { bindings } from './bindings'\nimport {\n  ElementPart,\n  ElementProps,\n  ElementCreator,\n  StringMap,\n} from './xin-types'\nimport { camelToKabob } from './string-case'\nimport { processProp } from './css'\n\nconst MATH = 'http://www.w3.org/1998/Math/MathML'\nconst SVG = 'http://www.w3.org/2000/svg'\nexport interface ElementsProxy {\n  a: ElementCreator<HTMLAnchorElement>\n  abbr: ElementCreator\n  acronym: ElementCreator\n  address: ElementCreator\n  area: ElementCreator<HTMLAreaElement>\n  article: ElementCreator\n  aside: ElementCreator\n  audio: ElementCreator<HTMLAudioElement>\n  b: ElementCreator\n  base: ElementCreator<HTMLBaseElement>\n  basefont: ElementCreator\n  bdi: ElementCreator\n  bdo: ElementCreator\n  big: ElementCreator\n  blockquote: ElementCreator<HTMLQuoteElement>\n  body: ElementCreator<HTMLBodyElement>\n  br: ElementCreator<HTMLBRElement>\n  button: ElementCreator<HTMLButtonElement>\n  canvas: ElementCreator<HTMLCanvasElement>\n  caption: ElementCreator\n  center: ElementCreator\n  cite: ElementCreator\n  code: ElementCreator\n  col: ElementCreator<HTMLTableColElement>\n  colgroup: ElementCreator<HTMLTableColElement>\n  data: ElementCreator<HTMLDataElement>\n  datalist: ElementCreator<HTMLDataListElement>\n  dd: ElementCreator\n  del: ElementCreator\n  details: ElementCreator<HTMLDetailsElement>\n  dfn: ElementCreator\n  dialog: ElementCreator<HTMLDialogElement>\n  div: ElementCreator<HTMLDivElement>\n  dl: ElementCreator\n  dt: ElementCreator\n  em: ElementCreator\n  embed: ElementCreator<HTMLEmbedElement>\n  fieldset: ElementCreator<HTMLFieldSetElement>\n  figcaption: ElementCreator\n  figure: ElementCreator\n  font: ElementCreator\n  footer: ElementCreator\n  form: ElementCreator<HTMLFormElement>\n  frame: ElementCreator\n  frameset: ElementCreator\n  head: ElementCreator<HTMLHeadElement>\n  header: ElementCreator\n  hgroup: ElementCreator\n  h1: ElementCreator<HTMLHeadingElement>\n  h2: ElementCreator<HTMLHeadingElement>\n  h3: ElementCreator<HTMLHeadingElement>\n  h4: ElementCreator<HTMLHeadingElement>\n  h5: ElementCreator<HTMLHeadingElement>\n  h6: ElementCreator<HTMLHeadingElement>\n  hr: ElementCreator<HTMLHRElement>\n  html: ElementCreator<HTMLHtmlElement>\n  i: ElementCreator\n  iframe: ElementCreator<HTMLIFrameElement>\n  img: ElementCreator<HTMLImageElement>\n  input: ElementCreator<HTMLInputElement>\n  ins: ElementCreator<HTMLModElement>\n  kbd: ElementCreator\n  keygen: ElementCreator<HTMLUnknownElement>\n  label: ElementCreator<HTMLLabelElement>\n  legend: ElementCreator<HTMLLegendElement>\n  li: ElementCreator<HTMLLIElement>\n  link: ElementCreator<HTMLLinkElement>\n  main: ElementCreator\n  map: ElementCreator<HTMLMapElement>\n  mark: ElementCreator\n  menu: ElementCreator<HTMLMenuElement>\n  menuitem: ElementCreator<HTMLUnknownElement>\n  meta: ElementCreator<HTMLMetaElement>\n  meter: ElementCreator<HTMLMeterElement>\n  nav: ElementCreator\n  noframes: ElementCreator\n  noscript: ElementCreator\n  object: ElementCreator<HTMLObjectElement>\n  ol: ElementCreator<HTMLOListElement>\n  optgroup: ElementCreator<HTMLOptGroupElement>\n  option: ElementCreator<HTMLOptionElement>\n  output: ElementCreator<HTMLOutputElement>\n  p: ElementCreator<HTMLParagraphElement>\n  param: ElementCreator\n  picture: ElementCreator<HTMLPictureElement>\n  pre: ElementCreator<HTMLPreElement>\n  progress: ElementCreator<HTMLProgressElement>\n  q: ElementCreator<HTMLQuoteElement>\n  rp: ElementCreator\n  rt: ElementCreator\n  ruby: ElementCreator\n  s: ElementCreator\n  samp: ElementCreator\n  script: ElementCreator<HTMLScriptElement>\n  section: ElementCreator\n  select: ElementCreator<HTMLSelectElement>\n  slot: ElementCreator<HTMLSlotElement>\n  small: ElementCreator\n  source: ElementCreator<HTMLSourceElement>\n  span: ElementCreator<HTMLSpanElement>\n  strike: ElementCreator\n  strong: ElementCreator\n  style: ElementCreator<HTMLStyleElement>\n  sub: ElementCreator\n  summary: ElementCreator\n  table: ElementCreator<HTMLTableElement>\n  tbody: ElementCreator<HTMLTableSectionElement>\n  td: ElementCreator<HTMLTableCellElement>\n  template: ElementCreator<HTMLTemplateElement>\n  textarea: ElementCreator<HTMLTextAreaElement>\n  tfoot: ElementCreator<HTMLTableSectionElement>\n  th: ElementCreator<HTMLTableCellElement>\n  thead: ElementCreator<HTMLTableSectionElement>\n  time: ElementCreator<HTMLTimeElement>\n  title: ElementCreator<HTMLTitleElement>\n  tr: ElementCreator<HTMLTableRowElement>\n  track: ElementCreator<HTMLTrackElement>\n  tt: ElementCreator\n  u: ElementCreator\n  ul: ElementCreator<HTMLUListElement>\n  var: ElementCreator\n  video: ElementCreator<HTMLVideoElement>\n  wbr: ElementCreator\n  [key: string | symbol]: ElementCreator<any>\n}\n\nconst templates: { [key: string]: Element } = {}\n\nconst create = (tagType: string, ...contents: ElementPart[]): HTMLElement => {\n  if (templates[tagType] === undefined) {\n    const [tag, namespace] = tagType.split('|')\n    if (namespace === undefined) {\n      templates[tagType] = globalThis.document.createElement(tag)\n    } else {\n      templates[tagType] = globalThis.document.createElementNS(namespace, tag)\n    }\n  }\n  const elt = templates[tagType].cloneNode() as HTMLElement\n  const elementProps: ElementProps = {}\n  for (const item of contents) {\n    if (\n      item instanceof Element ||\n      item instanceof DocumentFragment ||\n      typeof item === 'string' ||\n      typeof item === 'number'\n    ) {\n      if (elt instanceof HTMLTemplateElement) {\n        elt.content.append(item as Node)\n      } else {\n        elt.append(item as Node)\n      }\n    } else {\n      Object.assign(elementProps, item)\n    }\n  }\n  for (const key of Object.keys(elementProps)) {\n    const value: any = elementProps[key]\n    if (key === 'apply') {\n      value(elt)\n    } else if (key === 'style') {\n      if (typeof value === 'object') {\n        for (const prop of Object.keys(value)) {\n          const processed = processProp(camelToKabob(prop), value[prop])\n          if (processed.prop.startsWith('--')) {\n            elt.style.setProperty(processed.prop, processed.value)\n          } else {\n            ;(elt.style as unknown as { [key: string]: string })[prop] =\n              processed.value\n          }\n        }\n      } else {\n        elt.setAttribute('style', value)\n      }\n    } else if (key.match(/^on[A-Z]/) != null) {\n      const eventType = key.substring(2).toLowerCase()\n      on(elt, eventType, value)\n    } else if (key === 'bind') {\n      const binding =\n        typeof value.binding === 'string'\n          ? bindings[value.binding]\n          : value.binding\n      if (binding !== undefined && value.value !== undefined) {\n        bind(\n          elt,\n          value.value,\n          value.binding instanceof Function\n            ? { toDOM: value.binding }\n            : value.binding\n        )\n      } else {\n        throw new Error(`bad binding`)\n      }\n    } else if (key.match(/^bind[A-Z]/) != null) {\n      const bindingType = key.substring(4, 5).toLowerCase() + key.substring(5)\n      const binding = bindings[bindingType]\n      if (binding !== undefined) {\n        bind(elt, value, binding)\n      } else {\n        throw new Error(\n          `${key} is not allowed, bindings.${bindingType} is not defined`\n        )\n      }\n    } else if ((elt as { [key: string]: any })[key] !== undefined) {\n      // MathML is only supported on 91% of browsers, and not on the Raspberry Pi Chromium\n      const { MathMLElement } = globalThis\n      if (\n        elt instanceof SVGElement ||\n        (MathMLElement !== undefined && elt instanceof MathMLElement)\n      ) {\n        elt.setAttribute(key, value)\n      } else {\n        ;(elt as { [key: string]: any })[key] = value\n      }\n    } else {\n      const attr = camelToKabob(key)\n\n      if (attr === 'class') {\n        value.split(' ').forEach((className: string) => {\n          elt.classList.add(className)\n        })\n      } else if ((elt as { [key: string]: any })[attr] !== undefined) {\n        ;(elt as StringMap)[attr] = value\n      } else if (typeof value === 'boolean') {\n        value ? elt.setAttribute(attr, '') : elt.removeAttribute(attr)\n      } else {\n        elt.setAttribute(attr, value)\n      }\n    }\n  }\n  return elt\n}\n\nconst fragment = (...contents: ElementPart[]): DocumentFragment => {\n  const frag = globalThis.document.createDocumentFragment()\n  for (const item of contents) {\n    frag.append(item as Node)\n  }\n  return frag\n}\n\n/**\n * elements is a proxy that produces ElementCreators, e.g.\n * elements.div() creates <div> elements and\n * elements.myElement() creates <my-element> elements.\n */\nexport const elements = new Proxy(\n  { fragment },\n  {\n    get(target, tagName: string) {\n      tagName = tagName.replace(/[A-Z]/g, (c) => `-${c.toLocaleLowerCase()}`)\n      if ((target as StringMap)[tagName] === undefined) {\n        ;(target as StringMap)[tagName] = (...contents: ElementPart[]) =>\n          create(tagName, ...contents)\n      }\n      return (target as StringMap)[tagName]\n    },\n    set() {\n      throw new Error('You may not add new properties to elements')\n    },\n  }\n) as unknown as ElementsProxy\n\ninterface SVGElementsProxy {\n  [key: string]: ElementCreator<SVGElement>\n}\n\nexport const svgElements = new Proxy(\n  { fragment },\n  {\n    get(target, tagName: string) {\n      if ((target as StringMap)[tagName] === undefined) {\n        ;(target as StringMap)[tagName] = (...contents: ElementPart[]) =>\n          create(`${tagName}|${SVG}`, ...contents)\n      }\n      return (target as StringMap)[tagName]\n    },\n    set() {\n      throw new Error('You may not add new properties to elements')\n    },\n  }\n) as unknown as SVGElementsProxy\n\ninterface MathMLElementsProxy {\n  [key: string]: ElementCreator<MathMLElement>\n}\n\nexport const mathML = new Proxy(\n  { fragment },\n  {\n    get(target, tagName: string) {\n      if ((target as StringMap)[tagName] === undefined) {\n        ;(target as StringMap)[tagName] = (...contents: ElementPart[]) =>\n          create(`${tagName}|${MATH}`, ...contents)\n      }\n      return (target as StringMap)[tagName]\n    },\n    set() {\n      throw new Error('You may not add new properties to elements')\n    },\n  }\n) as unknown as MathMLElementsProxy\n","import { xin, touch, observe } from './xin'\nimport {\n  getListItem,\n  elementToBindings,\n  elementToHandlers,\n  DataBindings,\n  BOUND_CLASS,\n  BOUND_SELECTOR,\n  EVENT_CLASS,\n  EVENT_SELECTOR,\n  XinEventBindings,\n  XIN_PATH,\n  XIN_VALUE,\n} from './metadata'\nimport {\n  XinObject,\n  XinProps,\n  XinEventHandler,\n  XinTouchableType,\n  XinBinding,\n  XinBindingSpec,\n} from './xin-types'\n\nconst { document, MutationObserver } = globalThis\n\nexport const touchElement = (element: Element, changedPath?: string): void => {\n  const dataBindings = elementToBindings.get(element)\n  if (dataBindings == null) {\n    return\n  }\n  for (const dataBinding of dataBindings) {\n    const { binding, options } = dataBinding\n    let { path } = dataBinding\n    const { toDOM } = binding\n    if (toDOM != null) {\n      if (path.startsWith('^')) {\n        const dataSource = getListItem(element)\n        if (dataSource != null && (dataSource as XinProps)[XIN_PATH] != null) {\n          path = dataBinding.path = `${\n            (dataSource as XinProps)[XIN_PATH]\n          }${path.substring(1)}`\n        } else {\n          console.error(\n            `Cannot resolve relative binding ${path}`,\n            element,\n            'is not part of a list'\n          )\n          throw new Error(`Cannot resolve relative binding ${path}`)\n        }\n      }\n      if (changedPath == null || path.startsWith(changedPath)) {\n        toDOM(element, xin[path], options)\n      }\n    }\n  }\n}\n\n// this is just to allow bind to be testable in node\nif (MutationObserver != null) {\n  const observer = new MutationObserver((mutationsList) => {\n    mutationsList.forEach((mutation) => {\n      ;[...mutation.addedNodes].forEach((node) => {\n        if (node instanceof Element) {\n          ;[...node.querySelectorAll(BOUND_SELECTOR)].forEach((element) =>\n            touchElement(element as Element)\n          )\n        }\n      })\n    })\n  })\n  observer.observe(document.body, { subtree: true, childList: true })\n}\n\nobserve(\n  () => true,\n  (changedPath: string) => {\n    const boundElements = document.querySelectorAll(BOUND_SELECTOR)\n\n    for (const element of boundElements) {\n      touchElement(element as HTMLElement, changedPath)\n    }\n  }\n)\n\nconst handleChange = (event: Event): void => {\n  // @ts-expect-error-error\n  let target = event.target.closest(BOUND_SELECTOR)\n  while (target != null) {\n    const dataBindings = elementToBindings.get(target) as DataBindings\n    for (const dataBinding of dataBindings) {\n      const { binding, path } = dataBinding\n      const { fromDOM } = binding\n      if (fromDOM != null) {\n        let value\n        try {\n          value = fromDOM(target, dataBinding.options)\n        } catch (e) {\n          console.error('Cannot get value from', target, 'via', dataBinding)\n          throw new Error('Cannot obtain value fromDOM')\n        }\n        if (value != null) {\n          const existing = xin[path]\n          if (existing == null) {\n            xin[path] = value\n          } else {\n            const existingActual =\n              // @ts-expect-error-error\n              existing[XIN_PATH] != null\n                ? (existing as XinProps)[XIN_VALUE]\n                : existing\n            const valueActual =\n              value[XIN_PATH] != null ? value[XIN_VALUE] : value\n            if (existingActual !== valueActual) {\n              xin[path] = valueActual\n            }\n          }\n        }\n      }\n    }\n    target = target.parentElement.closest(BOUND_SELECTOR)\n  }\n}\n\nif (globalThis.document != null) {\n  document.body.addEventListener('change', handleChange, true)\n  document.body.addEventListener('input', handleChange, true)\n}\n\nexport function bind<T extends Element>(\n  element: T,\n  what: XinTouchableType | XinBindingSpec,\n  binding: XinBinding<T>,\n  options?: XinObject\n): T {\n  if (element instanceof DocumentFragment) {\n    throw new Error('bind cannot bind to a DocumentFragment')\n  }\n  let path: string\n  if (\n    typeof what === 'object' &&\n    (what as XinProps)[XIN_PATH] === undefined &&\n    options === undefined\n  ) {\n    const { value } = what as XinBindingSpec\n    path = typeof value === 'string' ? value : value[XIN_PATH]\n    options = what as XinObject\n    delete options.value\n  } else {\n    path = typeof what === 'string' ? what : (what as XinProps)[XIN_PATH]\n  }\n  if (path == null) {\n    throw new Error('bind requires a path or object with xin Proxy')\n  }\n  const { toDOM } = binding\n\n  element.classList?.add(BOUND_CLASS)\n  let dataBindings = elementToBindings.get(element)\n  if (dataBindings == null) {\n    dataBindings = []\n    elementToBindings.set(element, dataBindings)\n  }\n  dataBindings.push({\n    path,\n    binding: binding as XinBinding<Element>,\n    options,\n  })\n\n  if (toDOM != null && !path.startsWith('^')) {\n    // not calling toDOM directly here allows virtual list bindings to work\n    touch(path)\n  }\n\n  return element\n}\n\nconst handledEventTypes: Set<string> = new Set()\n\nconst handleBoundEvent = (event: Event): void => {\n  // @ts-expect-error-error\n  let target = event?.target.closest(EVENT_SELECTOR)\n  let propagationStopped = false\n\n  const wrappedEvent = new Proxy(event, {\n    get(target, prop) {\n      if (prop === 'stopPropagation') {\n        return () => {\n          event.stopPropagation()\n          propagationStopped = true\n        }\n      } else {\n        // @ts-expect-error-error\n        const value = target[prop]\n        return typeof value === 'function' ? value.bind(target) : value\n      }\n    },\n  })\n  while (!propagationStopped && target != null) {\n    const eventBindings = elementToHandlers.get(target) as XinEventBindings\n    const handlers = eventBindings[event.type] || ([] as XinEventHandler[])\n    for (const handler of handlers) {\n      if (typeof handler === 'function') {\n        handler(wrappedEvent)\n      } else {\n        const func = xin[handler]\n        if (typeof func === 'function') {\n          func(wrappedEvent)\n        } else {\n          throw new Error(`no event handler found at path ${handler}`)\n        }\n      }\n      if (propagationStopped) {\n        continue\n      }\n    }\n    target =\n      target.parentElement != null\n        ? target.parentElement.closest(EVENT_SELECTOR)\n        : null\n  }\n}\n\nexport const on = (\n  element: HTMLElement,\n  eventType: string,\n  eventHandler: XinEventHandler\n): void => {\n  let eventBindings = elementToHandlers.get(element)\n  element.classList.add(EVENT_CLASS)\n  if (eventBindings == null) {\n    eventBindings = {}\n    elementToHandlers.set(element, eventBindings)\n  }\n  if (!eventBindings[eventType]) {\n    eventBindings[eventType] = []\n  }\n  if (!eventBindings[eventType].includes(eventHandler)) {\n    eventBindings[eventType].push(eventHandler)\n  }\n  if (!handledEventTypes.has(eventType)) {\n    handledEventTypes.add(eventType)\n    document.body.addEventListener(eventType, handleBoundEvent, true)\n  }\n}\n","import {\n  XinProxyObject,\n  XinProxyTarget,\n  XinObject,\n  XinProxy,\n  XinArray,\n  XinValue,\n  PathTestFunction,\n  ObserverCallbackFunction,\n} from './xin-types'\nimport { settings } from './settings'\nimport {\n  Listener,\n  touch,\n  observe as _observe,\n  unobserve,\n  updates,\n  observerShouldBeRemoved,\n} from './path-listener'\nimport { getByPath, setByPath } from './by-path'\nimport { xinValue, xinPath, XIN_VALUE, XIN_PATH } from './metadata'\n\ninterface ProxyConstructor {\n  revocable: <T extends object, P extends object>(\n    target: T,\n    handler: ProxyHandler<P>\n  ) => { proxy: P; revoke: () => void }\n  new <T extends object>(target: T, handler: ProxyHandler<T>): T\n  new <T extends object, P extends object>(\n    target: T,\n    handler: ProxyHandler<P>\n  ): P\n}\ndeclare let Proxy: ProxyConstructor\n\n// list of Array functions that change the array\nconst ARRAY_MUTATIONS = [\n  'sort',\n  'splice',\n  'copyWithin',\n  'fill',\n  'pop',\n  'push',\n  'reverse',\n  'shift',\n  'unshift',\n]\n\nconst registry: XinObject = {}\nconst debugPaths = true\nconst validPath =\n  /^\\.?([^.[\\](),])+(\\.[^.[\\](),]+|\\[\\d+\\]|\\[[^=[\\](),]*=[^[\\]()]+\\])*$/\n\nconst isValidPath = (path: string): boolean => validPath.test(path)\n\nconst extendPath = (path = '', prop = ''): string => {\n  if (path === '') {\n    return prop\n  } else {\n    if (prop.match(/^\\d+$/) !== null || prop.includes('=')) {\n      return `${path}[${prop}]`\n    } else {\n      return `${path}.${prop}`\n    }\n  }\n}\n\nconst boxes: { [key: string]: (x: any) => any } = {\n  string(s: string) {\n    return new String(s)\n  },\n  boolean(b: boolean) {\n    return new Boolean(b)\n  },\n  bigint(b: bigint) {\n    return b\n  },\n  symbol(s: symbol) {\n    return s\n  },\n  number(n: number) {\n    return new Number(n)\n  },\n}\n\nfunction box<T>(x: T, path: string): T {\n  const t = typeof x\n  if (x === undefined || t === 'object' || t === 'function') {\n    return x\n  } else {\n    return new Proxy<XinProxyTarget, XinObject>(\n      boxes[t](x),\n      regHandler(path, true)\n    ) as T\n  }\n}\n\nconst regHandler = (\n  path: string,\n  boxScalars: boolean\n): ProxyHandler<XinObject> => ({\n  // TODO figure out how to correctly return array[Symbol.iterator] so that for(const foo of xin.foos) works\n  // as you'd expect\n  get(target: XinObject | XinArray, _prop: string | symbol): XinValue {\n    if (_prop === XIN_PATH) {\n      return path\n    } else if (_prop === XIN_VALUE) {\n      while (xinPath(target) !== undefined) {\n        target = xinValue(target)\n      }\n      return target\n    }\n    if (typeof _prop === 'symbol') {\n      return (target as XinObject)[_prop]\n    }\n    let prop = _prop\n    const compoundProp =\n      prop.match(/^([^.[]+)\\.(.+)$/) ?? // basePath.subPath (omit '.')\n      prop.match(/^([^\\]]+)(\\[.+)/) ?? // basePath[subPath\n      prop.match(/^(\\[[^\\]]+\\])\\.(.+)$/) ?? // [basePath].subPath (omit '.')\n      prop.match(/^(\\[[^\\]]+\\])\\[(.+)$/) // [basePath][subPath\n    if (compoundProp !== null) {\n      const [, basePath, subPath] = compoundProp\n      const currentPath = extendPath(path, basePath)\n      const value = getByPath(target, basePath)\n      return value !== null && typeof value === 'object'\n        ? new Proxy<XinObject, XinProxyObject>(\n            value,\n            regHandler(currentPath, boxScalars)\n          )[subPath]\n        : value\n    }\n    if (prop.startsWith('[') && prop.endsWith(']')) {\n      prop = prop.substring(1, prop.length - 1)\n    }\n    if (\n      (!Array.isArray(target) && target[prop] !== undefined) ||\n      (Array.isArray(target) && prop.includes('='))\n    ) {\n      let value: XinValue\n      if (prop.includes('=')) {\n        const [idPath, needle] = prop.split('=')\n        value = (target as XinObject[]).find(\n          (candidate: XinObject) =>\n            `${getByPath(candidate, idPath) as string}` === needle\n        )\n      } else {\n        value = (target as XinArray)[prop as unknown as number]\n      }\n      if (value !== null && typeof value === 'object') {\n        const currentPath = extendPath(path, prop)\n        return new Proxy<XinObject, XinProxyObject>(\n          value,\n          regHandler(currentPath, boxScalars)\n        ) as XinValue\n      } else if (typeof value === 'function') {\n        return value.bind(target)\n      } else {\n        return boxScalars ? box(value, extendPath(path, prop)) : value\n      }\n    } else if (Array.isArray(target)) {\n      const value = target[prop as unknown as number]\n      return typeof value === 'function'\n        ? (...items: any[]) => {\n            // @ts-expect-error seriously?\n            const result = Array.prototype[prop].apply(target, items)\n            if (ARRAY_MUTATIONS.includes(prop)) {\n              touch(path)\n            }\n            return result\n          }\n        : typeof value === 'object'\n        ? new Proxy<XinProxyTarget, XinObject>(\n            value,\n            regHandler(extendPath(path, prop), boxScalars)\n          )\n        : boxScalars\n        ? box(value, extendPath(path, prop))\n        : value\n    } else {\n      return boxScalars\n        ? box(target[prop], extendPath(path, prop))\n        : target[prop]\n    }\n  },\n  set(_, prop: string, value: any) {\n    value = xinValue(value)\n    const fullPath = extendPath(path, prop)\n    if (debugPaths && !isValidPath(fullPath)) {\n      throw new Error(`setting invalid path ${fullPath}`)\n    }\n    const existing = xinValue(xin[fullPath])\n    if (existing !== value && setByPath(registry, fullPath, value)) {\n      touch(fullPath)\n    }\n    return true\n  },\n})\n\nconst observe = (\n  test: string | RegExp | PathTestFunction,\n  callback: string | ObserverCallbackFunction\n): Listener => {\n  const func = typeof callback === 'function' ? callback : xin[callback]\n\n  if (typeof func !== 'function') {\n    throw new Error(\n      `observe expects a function or path to a function, ${\n        callback as string\n      } is neither`\n    )\n  }\n\n  return _observe(test, func as ObserverCallbackFunction)\n}\n\nconst xin = new Proxy<XinObject, XinProxyObject>(\n  registry,\n  regHandler('', false)\n)\n\nconst boxed = new Proxy<XinObject, XinProxyObject>(\n  registry,\n  regHandler('', true)\n) as XinProxy<object>\n\nexport {\n  xin,\n  boxed,\n  updates,\n  touch,\n  observe,\n  unobserve,\n  observerShouldBeRemoved,\n  isValidPath,\n  settings,\n}\n","export const settings = {\n  debug: false,\n  perf: false,\n}\n","import {\n  PathTestFunction,\n  ObserverCallbackFunction,\n  AnyFunction,\n} from './xin-types'\nimport { xinPath } from './metadata'\nimport { settings } from './settings'\n\nexport const observerShouldBeRemoved = Symbol('observer should be removed')\nexport const listeners: Listener[] = [] // { path_string_or_test, callback }\nconst touchedPaths: string[] = []\nlet updateTriggered: number | boolean = false\nlet updatePromise: Promise<undefined>\nlet resolveUpdate: AnyFunction\n\nexport class Listener {\n  description: string\n  test: PathTestFunction\n  callback: ObserverCallbackFunction\n\n  constructor(\n    test: string | RegExp | PathTestFunction,\n    callback: string | ObserverCallbackFunction\n  ) {\n    const callbackDescription =\n      typeof callback === 'string'\n        ? `\"${callback}\"`\n        : `function ${callback.name}`\n    let testDescription\n    if (typeof test === 'string') {\n      this.test = (t) =>\n        typeof t === 'string' &&\n        t !== '' &&\n        (test.startsWith(t) || t.startsWith(test))\n      testDescription = `test = \"${test}\"`\n    } else if (test instanceof RegExp) {\n      this.test = test.test.bind(test)\n      testDescription = `test = \"${test.toString()}\"`\n    } else if (test instanceof Function) {\n      this.test = test\n      testDescription = `test = function ${test.name}`\n    } else {\n      throw new Error(\n        'expect listener test to be a string, RegExp, or test function'\n      )\n    }\n    this.description = `${testDescription}, ${callbackDescription}`\n    if (typeof callback === 'function') {\n      this.callback = callback\n    } else {\n      throw new Error('expect callback to be a path or function')\n    }\n    listeners.push(this)\n  }\n}\n\nexport const updates = async (): Promise<void> => {\n  if (updatePromise === undefined) {\n    return\n  }\n  await updatePromise\n}\n\nconst update = (): void => {\n  if (settings.perf) {\n    console.time('xin async update')\n  }\n  const paths = [...touchedPaths]\n\n  for (const path of paths) {\n    listeners\n      .filter((listener) => {\n        let heard\n        try {\n          heard = listener.test(path)\n        } catch (e) {\n          throw new Error(\n            `Listener ${listener.description} threw \"${\n              e as string\n            }\" at \"${path}\"`\n          )\n        }\n        if (heard === observerShouldBeRemoved) {\n          unobserve(listener)\n          return false\n        }\n        return heard as boolean\n      })\n      .forEach((listener) => {\n        let outcome\n        try {\n          outcome = listener.callback(path)\n        } catch (e) {\n          console.error(\n            `Listener ${listener.description} threw \"${\n              e as string\n            }\" handling \"${path}\"`\n          )\n        }\n        if (outcome === observerShouldBeRemoved) {\n          unobserve(listener)\n        }\n      })\n  }\n\n  touchedPaths.splice(0)\n  updateTriggered = false\n  if (typeof resolveUpdate === 'function') {\n    resolveUpdate()\n  }\n  if (settings.perf) {\n    console.timeEnd('xin async update')\n  }\n}\n\nexport const touch = (touchable: any): void => {\n  const path = typeof touchable === 'string' ? touchable : xinPath(touchable)\n\n  if (path === undefined) {\n    console.error('touch was called on an invalid target', touchable)\n    throw new Error('touch was called on an invalid target')\n  }\n\n  if (updateTriggered === false) {\n    updatePromise = new Promise((resolve) => {\n      resolveUpdate = resolve\n    })\n    updateTriggered = setTimeout(update) as unknown as number\n  }\n\n  if (\n    touchedPaths.find((touchedPath) => path.startsWith(touchedPath)) == null\n  ) {\n    touchedPaths.push(path)\n  }\n}\n\nexport const observe = (\n  test: string | RegExp | PathTestFunction,\n  callback: ObserverCallbackFunction\n): Listener => {\n  return new Listener(test, callback)\n}\n\nexport const unobserve = (listener: Listener): void => {\n  const index = listeners.indexOf(listener)\n  if (index > -1) {\n    listeners.splice(index, 1)\n  } else {\n    throw new Error('unobserve failed, listener not found')\n  }\n}\n","import { XinObject, XinProps, XinBinding, XinEventHandler } from './xin-types'\nimport { deepClone } from './deep-clone'\n\nexport const BOUND_CLASS = '-xin-data'\nexport const BOUND_SELECTOR = `.${BOUND_CLASS}`\nexport const EVENT_CLASS = '-xin-event'\nexport const EVENT_SELECTOR = `.${EVENT_CLASS}`\n\nexport const XIN_PATH = Symbol('xin-path')\nexport const XIN_VALUE = Symbol('xin-value')\n\nexport const xinPath = (x: any): string | undefined => {\n  return x[XIN_PATH]\n}\n\nexport function xinValue<T>(x: T): T {\n  return (\n    typeof x === 'object' && x !== null\n      ? (x as unknown as XinProps)[XIN_VALUE] || x\n      : x\n  ) as T\n}\n\nexport interface DataBinding<T = Element> {\n  path: string\n  binding: XinBinding<T>\n  options?: XinObject\n}\n\nexport type DataBindings = DataBinding[]\n\nexport interface XinEventBindings {\n  [eventType: string]: XinEventHandler[]\n}\n\nexport const elementToHandlers: WeakMap<Element, XinEventBindings> =\n  new WeakMap()\nexport const elementToBindings: WeakMap<Element, DataBindings> = new WeakMap()\n\ninterface ElementMetadata {\n  eventBindings?: XinEventBindings\n  dataBindings?: DataBindings\n}\n\nexport const getElementBindings = (element: Element): ElementMetadata => {\n  return {\n    eventBindings: elementToHandlers.get(element),\n    dataBindings: elementToBindings.get(element),\n  }\n}\n\nexport const cloneWithBindings = (element: Node): Node => {\n  const cloned = element.cloneNode()\n  if (cloned instanceof Element) {\n    const dataBindings = elementToBindings.get(element as Element)\n    const eventHandlers = elementToHandlers.get(element as Element)\n    if (dataBindings != null) {\n      // @ts-expect-error-error\n      elementToBindings.set(cloned, deepClone(dataBindings))\n    }\n    if (eventHandlers != null) {\n      // @ts-expect-error-error\n      elementToHandlers.set(cloned, deepClone(eventHandlers))\n    }\n  }\n  for (const node of element instanceof HTMLTemplateElement\n    ? element.content.childNodes\n    : element.childNodes) {\n    if (node instanceof Element || node instanceof DocumentFragment) {\n      cloned.appendChild(cloneWithBindings(node))\n    } else {\n      cloned.appendChild(node.cloneNode())\n    }\n  }\n  return cloned\n}\n\nexport const elementToItem: WeakMap<Element, XinObject> = new WeakMap()\n\nexport const getListItem = (element: Element): any => {\n  const html = document.body.parentElement\n  while (element.parentElement != null && element.parentElement !== html) {\n    const item = elementToItem.get(element)\n    if (item != null) {\n      return item\n    }\n    element = element.parentElement\n  }\n  return false\n}\n","import { XinObject, XinArray, AnyFunction } from './xin-types'\n\ntype Scalar = string | boolean | number | AnyFunction\ntype Cloneable = Scalar | XinObject | XinArray\n\nexport function deepClone(obj: Cloneable): Cloneable | Cloneable[] {\n  if (obj == null || typeof obj !== 'object') {\n    return obj\n  }\n  if (Array.isArray(obj)) {\n    return obj.map(deepClone)\n  }\n  const clone: XinObject = {}\n  for (const key in obj) {\n    const val = obj[key]\n    if (obj != null && typeof obj === 'object') {\n      clone[key] = deepClone(val) as XinObject\n    } else {\n      clone[key] = val\n    }\n  }\n  return clone\n}\n","// unique tokens passed to set by path to delete or create properties\n\nimport { XinObject, XinArray, XinScalar } from './xin-types'\nimport { makeError } from './make-error'\n\nconst now36 = (): string =>\n  new Date(parseInt('1000000000', 36) + Date.now())\n    .valueOf()\n    .toString(36)\n    .slice(1)\nlet _seq = 0\nconst seq = (): string =>\n  (parseInt('10000', 36) + ++_seq).toString(36).slice(-5)\nconst id = (): string => now36() + seq()\n\nconst _delete_ = {}\nconst _newObject_ = {}\n\ntype Part = string | string[]\ntype PartArray = Part[]\n\nfunction pathParts(path: string | PartArray): PartArray {\n  if (path === '') {\n    return []\n  }\n\n  if (Array.isArray(path)) {\n    return path\n  } else {\n    const parts: PartArray = []\n    while (path.length > 0) {\n      let index = path.search(/\\[[^\\]]+\\]/)\n      if (index === -1) {\n        parts.push(path.split('.'))\n        break\n      } else {\n        const part = path.slice(0, index)\n        path = path.slice(index)\n        if (part !== '') {\n          parts.push(part.split('.'))\n        }\n        index = path.indexOf(']') + 1\n        parts.push(path.slice(1, index - 1))\n        // handle paths dereferencing array element like foo[0].id\n        if (path.slice(index, index + 1) === '.') {\n          index += 1\n        }\n        path = path.slice(index)\n      }\n    }\n    return parts\n  }\n}\n\nconst idPathMaps = new WeakMap()\n\ninterface IdPathMap {\n  [key: string]: number\n}\n\nfunction buildIdPathValueMap(array: XinObject[], idPath: string): IdPathMap {\n  if (idPathMaps.get(array) === undefined) {\n    idPathMaps.set(array, {})\n  }\n  if (idPathMaps.get(array)[idPath] === undefined) {\n    idPathMaps.get(array)[idPath] = {}\n  }\n  const map = idPathMaps.get(array)[idPath]\n\n  if (idPath === '_auto_') {\n    array.forEach((item, idx) => {\n      if (item._auto_ === undefined) item._auto_ = id()\n      map[(item._auto_ as string) + ''] = idx\n    })\n  } else {\n    array.forEach((item, idx) => {\n      map[(getByPath(item, idPath) as string) + ''] = idx\n    })\n  }\n  return map\n}\n\nfunction getIdPathMap(array: XinObject[], idPath: string): IdPathMap {\n  if (\n    idPathMaps.get(array) === undefined ||\n    idPathMaps.get(array)[idPath] === undefined\n  ) {\n    return buildIdPathValueMap(array, idPath)\n  } else {\n    return idPathMaps.get(array)[idPath]\n  }\n}\n\nfunction keyToIndex(array: XinObject[], idPath: string, idValue: any): number {\n  idValue = (idValue as string) + ''\n  let idx = getIdPathMap(array, idPath)[idValue]\n  if (\n    idx === undefined ||\n    (getByPath(array[idx], idPath) as string) + '' !== idValue\n  ) {\n    idx = buildIdPathValueMap(array, idPath)[idValue]\n  }\n  return idx\n}\n\nfunction byKey(obj: XinObject, key: string, valueToInsert?: any): any {\n  if (obj[key] === undefined && valueToInsert !== undefined) {\n    obj[key] = valueToInsert\n  }\n  return obj[key]\n}\n\nfunction byIdPath(\n  array: any[],\n  idPath: string,\n  idValue: string,\n  valueToInsert?: any\n): any {\n  let idx = idPath !== '' ? keyToIndex(array, idPath, idValue) : idValue\n  if (valueToInsert === _delete_) {\n    array.splice(idx as number, 1)\n    idPathMaps.delete(array)\n    return Symbol('deleted')\n  } else if (valueToInsert === _newObject_) {\n    if (idPath === '' && array[idx as number] === undefined) {\n      array[idx as number] = {}\n    }\n  } else if (valueToInsert !== undefined) {\n    if (idx !== undefined) {\n      array[idx as number] = valueToInsert\n    } else if (\n      idPath !== '' &&\n      (getByPath(valueToInsert, idPath) as string) + '' === idValue + ''\n    ) {\n      array.push(valueToInsert)\n      idx = array.length - 1\n    } else {\n      throw new Error(`byIdPath insert failed at [${idPath}=${idValue}]`)\n    }\n  }\n  return array[idx as number]\n}\n\nfunction expectArray(obj: any): void {\n  if (!Array.isArray(obj)) {\n    throw makeError('setByPath failed: expected array, found', obj)\n  }\n}\n\nfunction expectObject(obj: any): void {\n  if (obj == null || !(obj instanceof Object)) {\n    throw makeError('setByPath failed: expected Object, found', obj)\n  }\n}\n\nfunction getByPath(obj: XinObject | XinArray, path: string): any {\n  const parts = pathParts(path)\n  let found: XinObject | XinArray | XinScalar = obj\n  let i, iMax, j, jMax\n  for (i = 0, iMax = parts.length; found !== undefined && i < iMax; i++) {\n    const part = parts[i]\n    if (Array.isArray(part)) {\n      for (j = 0, jMax = part.length; found !== undefined && j < jMax; j++) {\n        const key = part[j]\n        found = (found as XinObject)[key]\n      }\n    } else {\n      if ((found as XinArray).length === 0) {\n        // @ts-expect-error-error\n        found = (found as XinArray)[part.slice(1)]\n        if (part[0] !== '=') {\n          return undefined\n        }\n      } else if (part.includes('=')) {\n        const [idPath, ...tail] = part.split('=')\n        found = byIdPath(found as any[], idPath, tail.join('='))\n      } else {\n        j = parseInt(part, 10)\n        found = (found as XinArray)[j]\n      }\n    }\n  }\n  return found\n}\n\nfunction setByPath(\n  orig: XinObject | XinArray,\n  path: string,\n  val: any\n): boolean {\n  let obj: XinObject | XinArray | XinScalar = orig\n  const parts = pathParts(path)\n\n  while (obj != null && parts.length > 0) {\n    const part = parts.shift()\n    if (typeof part === 'string') {\n      const equalsOffset = part.indexOf('=')\n      if (equalsOffset > -1) {\n        if (equalsOffset === 0) {\n          expectObject(obj)\n        } else {\n          expectArray(obj)\n        }\n        const idPath = part.slice(0, equalsOffset)\n        const idValue = part.slice(equalsOffset + 1)\n        obj = byIdPath(\n          obj as any[],\n          idPath,\n          idValue,\n          parts.length > 0 ? _newObject_ : val\n        )\n        if (parts.length === 0) {\n          return true\n        }\n      } else {\n        expectArray(obj)\n        const idx = parseInt(part, 10)\n        if (parts.length > 0) {\n          obj = (obj as XinArray)[idx]\n        } else {\n          if (val !== _delete_) {\n            if ((obj as XinArray)[idx] === val) {\n              return false\n            }\n            ;(obj as XinArray)[idx] = val\n          } else {\n            ;(obj as XinArray).splice(idx, 1)\n          }\n          return true\n        }\n      }\n    } else if (Array.isArray(part) && part.length > 0) {\n      expectObject(obj)\n      while (part.length > 0) {\n        const key = part.shift() as string\n        if (part.length > 0 || parts.length > 0) {\n          // if we're at the end of part.length then we need to insert an array\n          obj = byKey(obj as XinObject, key, part.length > 0 ? {} : [])\n        } else {\n          if (val !== _delete_) {\n            if ((obj as XinObject)[key] === val) {\n              return false\n            }\n            ;(obj as XinObject)[key] = val\n          } else {\n            if (!Object.prototype.hasOwnProperty.call(obj, key)) {\n              return false\n            }\n            delete (obj as XinObject)[key]\n          }\n          return true\n        }\n      }\n    } else {\n      throw new Error(`setByPath failed, bad path ${path}`)\n    }\n  }\n\n  throw new Error(`setByPath(${orig}, ${path}, ${val}) failed`)\n}\n\nfunction deleteByPath(orig: XinObject, path: string): void {\n  if (getByPath(orig, path) !== null) {\n    setByPath(orig, path, _delete_)\n  }\n}\n\nexport { getByPath, setByPath, deleteByPath, pathParts }\n","const stringify = (x: any): string => {\n  try {\n    return JSON.stringify(x)\n  } catch (_) {\n    return '{has circular references}'\n  }\n}\n\nexport const makeError = (...messages: any[]): Error =>\n  new Error(messages.map(stringify).join(' '))\n","import { XinObject, XinBinding, ValueElement } from './xin-types'\nimport { getListBinding } from './list-binding'\nimport { getValue, setValue } from './dom'\n\nexport const bindings: { [key: string | symbol]: XinBinding<Element> } = {\n  value: {\n    toDOM: setValue,\n\n    fromDOM(element: Element) {\n      return getValue(element as ValueElement)\n    },\n  },\n\n  set: {\n    toDOM: setValue,\n  },\n\n  text: {\n    toDOM(element: Element, value: any) {\n      element.textContent = value\n    },\n  },\n\n  enabled: {\n    toDOM(element: Element, value: any) {\n      ;(element as HTMLInputElement).disabled = !value\n    },\n  },\n\n  disabled: {\n    toDOM(element: Element, value: any) {\n      ;(element as HTMLButtonElement).disabled = Boolean(value)\n    },\n  },\n\n  style: {\n    toDOM(element: Element, value: any) {\n      if (typeof value === 'object') {\n        for (const prop of Object.keys(value)) {\n          // @ts-expect-error typescript has a strange/incorrect idea of what element.style is\n          element.style[prop] = value[prop]\n        }\n      } else if (typeof value === 'string') {\n        element.setAttribute('style', value)\n      } else {\n        throw new Error('style binding expects either a string or object')\n      }\n    },\n  },\n\n  list: {\n    toDOM(element: Element, value: any[], options?: XinObject) {\n      const listBinding = getListBinding(element, options)\n      listBinding.update(value)\n    },\n  },\n}\n","import { settings } from './settings'\nimport { resizeObserver } from './dom'\nimport { throttle } from './throttle'\nimport { xin } from './xin'\nimport {\n  cloneWithBindings,\n  elementToItem,\n  elementToBindings,\n  BOUND_SELECTOR,\n  DataBinding,\n  xinValue,\n  xinPath,\n} from './metadata'\nimport { XinObject } from './xin-types'\n\nconst listBindingRef = Symbol('list-binding')\nconst SLICE_INTERVAL_MS = 16 // 60fps\n\ninterface ListBindingOptions {\n  idPath?: string\n  virtual?: { height: number; width?: number }\n  hiddenProp?: symbol | string\n  visibleProp?: symbol | string\n}\n\ninterface VirtualListSlice {\n  items: any[]\n  firstItem: number\n  lastItem: number\n  topBuffer: number\n  bottomBuffer: number\n}\n\nfunction updateRelativeBindings(element: Element, path: string): void {\n  const boundElements = [...element.querySelectorAll(BOUND_SELECTOR)]\n  if (element.matches(BOUND_SELECTOR)) {\n    boundElements.unshift(element)\n  }\n  for (const boundElement of boundElements) {\n    const bindings = elementToBindings.get(boundElement) as DataBinding[]\n    for (const binding of bindings) {\n      if (binding.path.startsWith('^')) {\n        binding.path = `${path}${binding.path.substring(1)}`\n      }\n      if (binding.binding.toDOM != null) {\n        binding.binding.toDOM(boundElement as Element, xin[binding.path])\n      }\n    }\n  }\n}\n\nclass ListBinding {\n  boundElement: Element\n  listTop: HTMLElement\n  listBottom: HTMLElement\n  template: Element\n  options: ListBindingOptions\n  itemToElement: WeakMap<XinObject, Element>\n  private _array: any[] = []\n  private readonly _update?: VoidFunction\n  private _previousSlice?: VirtualListSlice\n\n  constructor(boundElement: Element, options: ListBindingOptions = {}) {\n    this.boundElement = boundElement\n    this.itemToElement = new WeakMap()\n    if (boundElement.children.length !== 1) {\n      throw new Error(\n        'ListBinding expects an element with exactly one child element'\n      )\n    }\n    if (boundElement.children[0] instanceof HTMLTemplateElement) {\n      const template = boundElement.children[0]\n      if (template.content.children.length !== 1) {\n        throw new Error(\n          'ListBinding expects a template with exactly one child element'\n        )\n      }\n      this.template = cloneWithBindings(\n        template.content.children[0]\n      ) as HTMLElement\n    } else {\n      this.template = boundElement.children[0] as HTMLElement\n      this.template.remove()\n    }\n    this.listTop = document.createElement('div')\n    this.listBottom = document.createElement('div')\n    this.boundElement.append(this.listTop)\n    this.boundElement.append(this.listBottom)\n    this.options = options\n    if (options.virtual != null) {\n      resizeObserver.observe(this.boundElement)\n      this._update = throttle(() => {\n        this.update(this._array, true)\n      }, SLICE_INTERVAL_MS)\n      this.boundElement.addEventListener('scroll', this._update)\n      this.boundElement.addEventListener('resize', this._update)\n    }\n  }\n\n  private visibleSlice(): VirtualListSlice {\n    const { virtual, hiddenProp, visibleProp } = this.options\n    let visibleArray = this._array\n    if (hiddenProp !== undefined) {\n      visibleArray = visibleArray.filter((item) => item[hiddenProp] !== true)\n    }\n    if (visibleProp !== undefined) {\n      visibleArray = visibleArray.filter((item) => item[visibleProp] === true)\n    }\n    let firstItem = 0\n    let lastItem = visibleArray.length - 1\n    let topBuffer = 0\n    let bottomBuffer = 0\n\n    if (virtual != null && this.boundElement instanceof HTMLElement) {\n      const width = this.boundElement.offsetWidth\n      const height = this.boundElement.offsetHeight\n\n      const visibleColumns =\n        virtual.width != null\n          ? Math.max(1, Math.floor(width / virtual.width))\n          : 1\n      const visibleRows = Math.ceil(height / virtual.height) + 1\n      const totalRows = Math.ceil(visibleArray.length / visibleColumns)\n      const visibleItems = visibleColumns * visibleRows\n      let topRow = Math.floor(this.boundElement.scrollTop / virtual.height)\n      if (topRow > totalRows - visibleRows + 1) {\n        topRow = Math.max(0, totalRows - visibleRows + 1)\n      }\n      firstItem = topRow * visibleColumns\n      lastItem = firstItem + visibleItems - 1\n\n      topBuffer = topRow * virtual.height\n      bottomBuffer = Math.max(\n        totalRows * virtual.height - height - topBuffer,\n        0\n      )\n    }\n\n    return {\n      items: visibleArray,\n      firstItem,\n      lastItem,\n      topBuffer,\n      bottomBuffer,\n    }\n  }\n\n  update(array?: any[], isSlice?: boolean): void {\n    if (array == null) {\n      array = []\n    }\n    this._array = array\n\n    const { hiddenProp, visibleProp } = this.options\n\n    const arrayPath: string = xinPath(array) as string\n\n    const slice = this.visibleSlice()\n    this.boundElement.classList.toggle(\n      '-xin-empty-list',\n      slice.items.length === 0\n    )\n    const previousSlice = this._previousSlice\n    const { firstItem, lastItem, topBuffer, bottomBuffer } = slice\n    if (\n      hiddenProp === undefined &&\n      visibleProp === undefined &&\n      isSlice === true &&\n      previousSlice != null &&\n      firstItem === previousSlice.firstItem &&\n      lastItem === previousSlice.lastItem\n    ) {\n      return\n    }\n    this._previousSlice = slice\n\n    let removed = 0\n    let moved = 0\n    let created = 0\n\n    for (const element of [...this.boundElement.children]) {\n      if (element === this.listTop || element === this.listBottom) {\n        continue\n      }\n      const proxy = elementToItem.get(element as HTMLElement)\n      if (proxy == null) {\n        element.remove()\n      } else {\n        const idx = slice.items.indexOf(proxy)\n        if (idx < firstItem || idx > lastItem) {\n          element.remove()\n          this.itemToElement.delete(proxy)\n          elementToItem.delete(element as HTMLElement)\n          removed++\n        }\n      }\n    }\n\n    this.listTop.style.height = String(topBuffer) + 'px'\n    this.listBottom.style.height = String(bottomBuffer) + 'px'\n\n    // build a complete new set of elements in the right order\n    const elements: Element[] = []\n    const { idPath } = this.options\n    for (let i = firstItem; i <= lastItem; i++) {\n      const item = slice.items[i]\n      if (item === undefined) {\n        continue\n      }\n      let element = this.itemToElement.get(xinValue(item))\n      if (element == null) {\n        created++\n        element = cloneWithBindings(this.template) as HTMLElement\n        if (typeof item === 'object') {\n          this.itemToElement.set(xinValue(item), element)\n          elementToItem.set(element, xinValue(item))\n        }\n        this.boundElement.insertBefore(element, this.listBottom)\n        if (idPath != null) {\n          const idValue = item[idPath] as string\n          const itemPath = `${arrayPath}[${idPath}=${idValue}]`\n          updateRelativeBindings(element, itemPath)\n        } else {\n          const itemPath = `${arrayPath}[${i}]`\n          updateRelativeBindings(element, itemPath)\n        }\n      }\n      elements.push(element)\n    }\n\n    // make sure all the elements are in the DOM and in the correct location\n    let insertionPoint: Element | null = null\n    for (const element of elements) {\n      if (element.previousElementSibling !== insertionPoint) {\n        moved++\n        if (insertionPoint?.nextElementSibling != null) {\n          this.boundElement.insertBefore(\n            element,\n            insertionPoint.nextElementSibling\n          )\n        } else {\n          this.boundElement.insertBefore(element, this.listBottom)\n        }\n      }\n      insertionPoint = element\n    }\n\n    if (settings.perf) {\n      console.log(arrayPath, 'updated', { removed, created, moved })\n    }\n  }\n}\n\ninterface ListBoundElement extends Element {\n  [listBindingRef]?: ListBinding\n}\n\nexport const getListBinding = (\n  boundElement: ListBoundElement,\n  options?: ListBindingOptions\n): ListBinding => {\n  let listBinding = boundElement[listBindingRef]\n  if (listBinding === undefined) {\n    listBinding = new ListBinding(boundElement, options)\n    boundElement[listBindingRef] = listBinding\n  }\n  return listBinding\n}\n","import { cloneWithBindings } from './metadata'\nimport { ContentType, ValueElement } from './xin-types'\n\nexport const dispatch = (target: Element, type: string): void => {\n  const event = new Event(type)\n  target.dispatchEvent(event)\n}\n\nconst valueType = (element: Element): string => {\n  if (element instanceof HTMLInputElement) {\n    return element.type\n  } else if (\n    element instanceof HTMLSelectElement &&\n    element.hasAttribute('multiple')\n  ) {\n    return 'multi-select'\n  } else {\n    return 'other'\n  }\n}\n\nexport const setValue = (element: Element, newValue: any): void => {\n  switch (valueType(element)) {\n    case 'radio':\n      ;(element as HTMLInputElement).checked =\n        (element as HTMLInputElement).value === newValue\n      break\n    case 'checkbox':\n      ;(element as HTMLInputElement).checked = !!newValue\n      break\n    case 'date':\n      ;(element as HTMLInputElement).valueAsDate = new Date(newValue)\n      break\n    case 'multi-select':\n      for (const option of [\n        ...(element as HTMLSelectElement).querySelectorAll('option'),\n      ] as HTMLOptionElement[]) {\n        option.selected = newValue[option.value]\n      }\n      break\n    default:\n      ;(element as HTMLInputElement).value = newValue\n  }\n}\n\ninterface PickMap {\n  [key: string]: boolean\n}\nexport const getValue = (element: ValueElement): any => {\n  switch (valueType(element)) {\n    case 'radio': {\n      const radio = element.parentElement?.querySelector(\n        `[name=\"${element.name}\"]:checked`\n      ) as HTMLInputElement\n      return radio != null ? radio.value : null\n    }\n    case 'checkbox':\n      return (element as HTMLInputElement).checked\n    case 'date':\n      return (element as HTMLInputElement).valueAsDate?.toISOString()\n    case 'multi-select':\n      return [...element.querySelectorAll('option')].reduce(\n        (map: PickMap, option: HTMLOptionElement): PickMap => {\n          map[option.value] = option.selected\n          return map\n        },\n        {}\n      )\n    default:\n      return element.value\n  }\n}\n\nconst { ResizeObserver } = globalThis\nexport const resizeObserver =\n  ResizeObserver != null\n    ? new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const element = entry.target\n          dispatch(element, 'resize')\n        }\n      })\n    : {\n        observe() {},\n        unobserve() {},\n      }\n\nexport const appendContentToElement = (\n  elt: Element | ShadowRoot | null | undefined,\n  content: ContentType | null | undefined,\n  cloneElements = true\n): void => {\n  if (elt != null && content != null) {\n    if (typeof content === 'string') {\n      elt.textContent = content\n    } else if (Array.isArray(content)) {\n      content.forEach((node) => {\n        elt.append(\n          node instanceof Node && cloneElements ? cloneWithBindings(node) : node\n        )\n      })\n    } else if (content instanceof Node) {\n      elt.append(cloneElements ? cloneWithBindings(content) : content)\n    } else {\n      throw new Error('expect text content or document node')\n    }\n  }\n}\n","type VoidFunc = (...args: any[]) => void\n\nexport const debounce = (origFn: VoidFunc, minInterval = 250): VoidFunc => {\n  let debounceId: number\n  return (...args: any[]) => {\n    if (debounceId !== undefined) clearTimeout(debounceId)\n    debounceId = setTimeout(() => {\n      origFn(...args)\n    }, minInterval) as unknown as number\n  }\n}\n\nexport const throttle = (origFn: VoidFunc, minInterval = 250): VoidFunc => {\n  let debounceId: number\n  let previousCall = Date.now() - minInterval\n  let inFlight = false\n  return (...args: any[]) => {\n    clearTimeout(debounceId)\n    debounceId = setTimeout(async () => {\n      origFn(...args)\n      previousCall = Date.now()\n    }, minInterval) as unknown as number\n    if (!inFlight && Date.now() - previousCall >= minInterval) {\n      inFlight = true\n      try {\n        origFn(...args)\n        previousCall = Date.now()\n      } finally {\n        inFlight = false\n      }\n    }\n  }\n}\n","export function camelToKabob(s: string): string {\n  return s.replace(/[A-Z]/g, (c: string): string => {\n    return `-${c.toLocaleLowerCase()}`\n  })\n}\n\nexport function kabobToCamel(s: string): string {\n  return s.replace(/-([a-z])/g, (_: string, c: string): string => {\n    return c.toLocaleUpperCase()\n  })\n}\n","import { Color } from './color'\nimport { Component } from './component'\nimport { vars, varDefault } from './css'\nimport { XinStyleSheet } from './css-types'\nimport { elements, svgElements, mathML } from './elements'\nimport { ElementCreator } from './xin-types'\nimport { xinProxy } from './xin-proxy'\n\nexport interface XinFactory {\n  Color: typeof Color\n  Component: typeof Component\n  elements: typeof elements\n  svgElements: typeof svgElements\n  mathML: typeof mathML\n  vars: typeof vars\n  varDefault: typeof varDefault\n  xinProxy: typeof xinProxy\n}\n\nexport interface XinComponentSpec {\n  type: typeof Component\n  styleSpec?: XinStyleSheet\n}\n\nexport interface XinPackagedComponent {\n  type: typeof Component\n  creator: ElementCreator\n}\n\nexport const madeComponents: { [key: string]: XinPackagedComponent } = {}\n\nexport type XinBlueprint = (tag: string, module: XinFactory) => XinComponentSpec\n\nexport function makeComponent(\n  tag: string,\n  blueprint: XinBlueprint\n): XinPackagedComponent {\n  const { type, styleSpec } = blueprint(tag, {\n    Color,\n    Component,\n    elements,\n    svgElements,\n    mathML,\n    varDefault,\n    vars,\n    xinProxy,\n  })\n  const packagedComponent = {\n    type,\n    creator: type.elementCreator({ tag, styleSpec }),\n  }\n\n  madeComponents[tag] = packagedComponent\n  return packagedComponent\n}\n","import { XinProxy } from './xin-types'\nimport { xin, boxed } from './xin'\n\nexport function boxedProxy<T extends object>(obj: T): XinProxy<T> {\n  Object.assign(boxed, obj)\n  return boxed as XinProxy<T>\n}\n\nlet deprecationMessage = false\nexport function xinProxy<T extends object>(obj: T, boxed = false): T {\n  if (boxed) {\n    if (!deprecationMessage) {\n      console.warn(\n        `xinProxy(..., true) is deprecated; use boxedProxy(...) instead`\n      )\n      deprecationMessage = true\n    }\n    return boxedProxy(obj) as T\n  }\n  Object.keys(obj).forEach((key: string) => {\n    xin[key] = (obj as { [key: string]: any })[key]\n  })\n  return xin as T\n}\n","/*\n  Note that re-exported types should be explicitly and separately exported\n  as types because of issues with parceljs\n\n  The error messages will be very perplexing\n\n  https://github.com/parcel-bundler/parcel/issues/4796\n  https://github.com/parcel-bundler/parcel/issues/4240\n  https://devblogs.microsoft.com/typescript/announcing-typescript-3-8/#type-only-imports-exports\n*/\n\nexport { bind, on } from './bind'\nexport { bindings } from './bindings'\nexport {\n  css,\n  invertLuminance,\n  darkMode,\n  initVars,\n  vars,\n  varDefault,\n  StyleSheet,\n} from './css'\nexport type { XinStyleSheet, XinStyleMap, XinStyleRule } from './css-types'\nexport { Color } from './color'\nexport { Component } from './component'\nexport { elements, svgElements, mathML } from './elements'\nexport type { ElementsProxy } from './elements'\nexport { hotReload } from './hot-reload'\nexport { getListItem, xinPath, xinValue } from './metadata'\nexport { makeComponent } from './make-component'\nexport type {\n  XinBlueprint,\n  XinFactory,\n  XinPackagedComponent,\n} from './make-component'\nexport { MoreMath } from './more-math'\nexport { settings } from './settings'\nexport { throttle, debounce } from './throttle'\nexport {\n  xin,\n  boxed,\n  observe,\n  unobserve,\n  touch,\n  observerShouldBeRemoved,\n  updates,\n} from './xin'\nexport * from './blueprint-loader'\nexport * from './xin-types'\nexport { xinProxy, boxedProxy } from './xin-proxy'\n","import { xin, observe } from './xin'\nimport { XIN_VALUE } from './metadata'\nimport {\n  XinObject,\n  PathTestFunction,\n  ObserverCallbackFunction,\n} from './xin-types'\nimport { debounce } from './throttle'\n\n// TODO reimplement using IndexedDB\n\nexport const hotReload = (test: PathTestFunction = () => true): void => {\n  const savedState = localStorage.getItem('xin-state')\n  if (savedState != null) {\n    const state = JSON.parse(savedState)\n    for (const key of Object.keys(state).filter(test)) {\n      if (xin[key] !== undefined) {\n        Object.assign(xin[key], state[key])\n      } else {\n        xin[key] = state[key]\n      }\n    }\n  }\n\n  const saveState = debounce(() => {\n    const obj: XinObject = {}\n    const state = xin[XIN_VALUE] as XinObject\n    for (const key of Object.keys(state).filter(test)) {\n      obj[key] = state[key]\n    }\n    localStorage.setItem('xin-state', JSON.stringify(obj))\n    console.log('xin state saved to localStorage')\n  }, 500)\n\n  observe(test, saveState as ObserverCallbackFunction)\n}\n","import { XIN_PATH, XIN_VALUE } from './metadata'\nimport { XinStyleRule } from './css-types'\n\nexport type AnyFunction = (...args: any[]) => any | Promise<any>\n\nexport type XinScalar = string | boolean | number | symbol | AnyFunction\n\nexport type XinArray = any[]\n\nexport interface XinObject {\n  [key: string | number | symbol]: any\n}\n\nexport type XinProxyTarget = XinObject | XinArray\n\nexport type XinValue = XinObject | XinArray | XinScalar | null | undefined\n\nexport interface XinProps {\n  [XIN_VALUE]: XinObject | XinObject | XinScalar\n  [XIN_PATH]: string\n}\n\nexport type XinProxy<T> = T extends number\n  ? XinProxy<Number>\n  : T extends string\n  ? XinProxy<String>\n  : T extends boolean\n  ? XinProxy<Boolean>\n  : T extends Function\n  ? T\n  : T extends null | undefined\n  ? null | undefined\n  : T extends Array<infer U>\n  ? Array<XinProxy<U>>\n  : T extends object\n  ? { [K in keyof T]: XinProxy<T[K]> }\n  : T\n\nexport type XinProxyObject = XinProps & {\n  [key: string]:\n    | XinProxyObject\n    | XinProxyArray\n    | XinObject\n    | XinArray\n    | XinScalar\n}\n\nexport type XinProxyArray = XinProps & { [key: string]: XinProxyObject } & (\n    | XinProxyObject[]\n    | XinScalar[]\n  )\nexport type XinTouchableType = string | XinProps\nexport type XinEventHandler<T = Event> =\n  | ((evt: T) => void)\n  | ((evt: T) => Promise<void>)\n  | string\nexport type XinBindingShortcut = XinTouchableType | XinBindingSpec\n\ntype _BooleanFunction = () => boolean\ntype _PathTestFunction = (path: string) => boolean | symbol\nexport type PathTestFunction = _BooleanFunction | _PathTestFunction\n\ntype OptionalSymbol = symbol | undefined\ntype _CallbackFunction = (() => void) | (() => OptionalSymbol)\ntype _PathCallbackFunction =\n  | ((path: string) => void)\n  | ((path: string) => OptionalSymbol)\nexport type ObserverCallbackFunction = _PathCallbackFunction | _CallbackFunction\n\nexport interface XinBindingSpec {\n  value: XinTouchableType | any\n  [key: string]: any\n}\n\nexport type XinBindingSetter<T = Element> = (\n  element: T,\n  value: any,\n  options?: XinObject\n) => void\nexport type XinBindingGetter<T = Element> = (\n  element: T,\n  options?: XinObject\n) => any\n\nexport interface XinBinding<T = Element> {\n  toDOM?: XinBindingSetter<T>\n  fromDOM?: XinBindingGetter<T>\n}\n\nexport interface XinInlineBinding<T = Element> {\n  value: XinTouchableType\n  binding: XinBinding<T> | XinBindingSetter<T> | string\n}\n\nexport interface ElementProps<T = Element> {\n  onClick?: XinEventHandler<MouseEvent>\n  onInput?: XinEventHandler\n  onChange?: XinEventHandler\n  onSubmit?: XinEventHandler\n  bind?: XinInlineBinding<T>\n  bindValue?: XinBindingShortcut\n  bindText?: XinBindingShortcut\n  bindList?: XinBindingShortcut\n  bindEnabled?: XinBindingShortcut\n  bindDisabled?: XinBindingShortcut\n  bindStyle?: XinBindingShortcut\n  style?: XinStyleRule\n  class?: string\n  apply?: (element: Element) => void | Promise<void>\n  [key: string]: any\n}\n\nexport interface StringMap {\n  [key: string]: any\n}\n\nexport interface PartsMap<T = Element> {\n  [key: string]: T\n}\n\nexport type ValueElement =\n  | HTMLInputElement\n  | HTMLSelectElement\n  | HTMLTextAreaElement\nexport type ElementPart<T = Element> =\n  | Element\n  | DocumentFragment\n  | ElementProps<T>\n  | string\n  | number\nexport type HTMLElementCreator<T = Element> = (\n  ...contents: ElementPart<T>[]\n) => T\nexport type FragmentCreator = (\n  ...contents: ElementPart<Element>[]\n) => DocumentFragment\nexport type ElementCreator<T = Element> = (...contents: ElementPart<T>[]) => T\nexport type ContentPart = Element | DocumentFragment | string\nexport type ContentType = ContentPart | ContentPart[]\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Blueprint","blueprint","BlueprintLoader","blueprintLoader","$4yWux","$b9MJ6","Component","packaged","loaded","tag","src","imported","eval","property","makeComponent","constructor","initAttributes","elementCreator","styleSpec","display","load","promises","blueprintElements","querySelectorAll","tagName","filter","elt","map","Promise","all","connectedCallback","$065ec34f90b90178$export$16fa2f45be04daa8","$fz28b","$90dPN","$2wmet","$2p5zh","$3iPSl","$065ec34f90b90178$var$anonymousElementCount","$065ec34f90b90178$var$anonElementTag","toString","$065ec34f90b90178$var$instanceCount","$065ec34f90b90178$var$globalStyleSheets","$065ec34f90b90178$var$setGlobalStyle","existing","processed","css","replace","$065ec34f90b90178$var$insertGlobalStyles","document","head","append","elements","style","HTMLElement","_tagName","StyleNode","console","warn","options","_elementCreator","name","camelToKabob","startsWith","slice","customElements","match","undefined","window","define","attributeNames","attributes","attributeValues","observer","MutationObserver","mutationsList","triggerRender","forEach","mutation","attributeName","includes","kabobToCamel","queueRender","observe","deepClone","attributeKabob","hasAttribute","parseFloat","getAttribute","value","setAttribute","removeAttribute","initValue","valueDescriptor","getOwnPropertyDescriptor","newValue","parts","root","shadowRoot","_parts","Proxy","target","ref","element","querySelector","content","slot","_changeQueued","_renderQueued","_hydrated","instanceId","toLocaleLowerCase","_value","defaultValue","hydrate","role","onResize","resizeObserver","_onResize","bind","addEventListener","disconnectedCallback","unobserve","triggerChangeEvent","requestAnimationFrame","dispatch","render","cloneElements","_content","styleNode","shadow","attachShadow","mode","appendChild","cloneNode","appendContentToElement","existingChildren","childNodes","isSlotted","slots","length","$065ec34f90b90178$var$XinSlot","replaceSlot","slotMap","child","defaultSlot","destSlot","Element","_slot","createElement","replaceWith","$4d116130f980647c$export$9d753cd7ae895cce","$4d116130f980647c$export$dbf350e5966cf602","$4d116130f980647c$export$4f8a9e649bc1f08b","$4d116130f980647c$export$90d0ea046136e3ed","$4d116130f980647c$export$808aaf1b460dc9af","$4d116130f980647c$export$8279dba9b7d4e420","$4d116130f980647c$export$3cb96c9f6c8d16a4","$4d116130f980647c$export$75c0e6adb3e38f31","$6NN4x","$4d116130f980647c$var$numericProps","prop","substring","String","$4d116130f980647c$var$renderProp","indentation","cssProp","Color","html","$4d116130f980647c$var$renderStatement","key","renderedRule","keys","innerKey","join","obj","selectors","selector","body","rule","kabobKey","fromCss","inverseLuminance","inverted","_varName","isNegative","scaleText","method","x","varName","scale","Number","baseColor","getComputedStyle","getPropertyValue","brighten","rgba","darken","saturate","desaturate","rotate","log","hsla","opacity","error","val","$ebe12b957d7ffb42$export$892596cec99bc70e","$1pBIY","$ebe12b957d7ffb42$var$bt601","r","g","b","$ebe12b957d7ffb42$var$hex2","Math","round","$ebe12b957d7ffb42$var$HslColor","l","max","min","h","$ebe12b957d7ffb42$var$span","spec","converted","HTMLSpanElement","color","remove","a","fromHsl","toFixed","clamp","inverse","_hsl","rgb","RGBA","ARGB","hslCached","hsl","mono","brightness","floor","amount","lClamped","sClamped","hClamped","alpha","swatch","blend","otherColor","t","lerp","mix","$35ded60743a49eea$export$7d15b64cf5a3a4c4","$35ded60743a49eea$export$3a89f8d6f6bf6c9f","$35ded60743a49eea$export$5e0dd9fd5d74e0c5","$1fadd05c13944ca9$export$7a5d735b2ab6389d","$1fadd05c13944ca9$export$cf20112a1bc148da","$1fadd05c13944ca9$export$8ec252cfdd664597","$hgaE9","$i7v8b","$1fadd05c13944ca9$var$MATH","$1fadd05c13944ca9$var$SVG","$1fadd05c13944ca9$var$templates","$1fadd05c13944ca9$var$create","tagType","contents","namespace","split","createElementNS","elementProps","item","DocumentFragment","HTMLTemplateElement","assign","processProp","setProperty","eventType","toLowerCase","on","binding","bindings","Function","toDOM","bindingType","MathMLElement","SVGElement","attr","className","classList","add","$1fadd05c13944ca9$var$fragment","frag","createDocumentFragment","fragment","c","$d165020245160cdf$export$2385a24977818dd0","$d165020245160cdf$export$af631764ddc44097","$aQzlW","$a10hu","$LNAnF","$d165020245160cdf$var$document","$d165020245160cdf$var$MutationObserver","$d165020245160cdf$export$80bf2f765c31be6a","changedPath","dataBindings","elementToBindings","dataBinding","path","dataSource","getListItem","XIN_PATH","xin","addedNodes","node","BOUND_SELECTOR","subtree","childList","$d165020245160cdf$var$handleChange","event","closest","fromDOM","existingActual","XIN_VALUE","valueActual","parentElement","what","BOUND_CLASS","push","touch","$d165020245160cdf$var$handledEventTypes","Set","$d165020245160cdf$var$handleBoundEvent","EVENT_SELECTOR","propagationStopped","wrappedEvent","stopPropagation","handler","eventBindings","elementToHandlers","type","func","eventHandler","EVENT_CLASS","has","$5d68f8b093886143$export$966034e6c6823eb0","$5d68f8b093886143$export$d1203567a167490e","$5d68f8b093886143$export$fd1b43749dd321e5","updates","observerShouldBeRemoved","$jaUp1","$5d68f8b093886143$var$ARRAY_MUTATIONS","$5d68f8b093886143$var$registry","$5d68f8b093886143$var$debugPaths","$5d68f8b093886143$var$validPath","$5d68f8b093886143$export$a678af82bf766611","test","$5d68f8b093886143$var$extendPath","$5d68f8b093886143$var$boxes","string","boolean","Boolean","bigint","symbol","number","$5d68f8b093886143$var$box","$5d68f8b093886143$var$regHandler","boxScalars","_prop","xinPath","xinValue","compoundProp","basePath","subPath","currentPath","getByPath","endsWith","Array","isArray","idPath","needle","find","candidate","items","result","prototype","apply","_","fullPath","setByPath","callback","$431d87cffae1b706$export$a5a6e0b888b2c992","debug","perf","$de0f84e31db1d985$var$updatePromise","$de0f84e31db1d985$var$resolveUpdate","$de0f84e31db1d985$export$253d09664e30b967","$de0f84e31db1d985$export$1c2919332513559b","$de0f84e31db1d985$export$23a2283368c55ea2","$de0f84e31db1d985$export$d0b7ea69ab6056df","$de0f84e31db1d985$export$d1203567a167490e","$3DOGY","Symbol","$de0f84e31db1d985$export$58bed631278dbc67","$de0f84e31db1d985$var$touchedPaths","$de0f84e31db1d985$var$updateTriggered","$de0f84e31db1d985$export$c92b1d5f43586026","testDescription","callbackDescription","RegExp","description","$de0f84e31db1d985$var$update","settings","time","listener","heard","outcome","splice","timeEnd","touchable","resolve","setTimeout","touchedPath","index","indexOf","$fc871d27afcbf39a$export$c6592bbc1eebb717","$fc871d27afcbf39a$export$4c0223f67078aeac","$fc871d27afcbf39a$export$6a7099543a9795c7","$fc871d27afcbf39a$export$21d9322c3477441b","$fc871d27afcbf39a$export$a3622eb3b5dd592a","$fc871d27afcbf39a$export$bdd0d039ad781534","$fc871d27afcbf39a$export$40700dafb97c3799","$fc871d27afcbf39a$export$5dcba2d45033d435","$fc871d27afcbf39a$export$fe712848e6e66613","$fc871d27afcbf39a$export$1f922de8d0ecbb7e","$fc871d27afcbf39a$export$fa8cc6a36b1ccd7f","$fc871d27afcbf39a$export$86caed35dd837d06","$fc871d27afcbf39a$export$4c309843c07ce679","WeakMap","cloned","eventHandlers","$324ad9265fd7ec5b$export$b7d58db314e0ac27","clone","$90757103be394558$export$44b5bed83342a92f","$90757103be394558$export$f65a19d15516795e","$7Gp5e","$90757103be394558$var$now36","Date","parseInt","now","valueOf","$90757103be394558$var$_seq","$90757103be394558$var$seq","$90757103be394558$var$id","$90757103be394558$var$_delete_","$90757103be394558$var$_newObject_","$90757103be394558$export$f5d2dd4cfd729958","search","part","$90757103be394558$var$idPathMaps","$90757103be394558$var$buildIdPathValueMap","array","idx","_auto_","$90757103be394558$var$getIdPathMap","$90757103be394558$var$keyToIndex","idValue","$90757103be394558$var$byKey","valueToInsert","$90757103be394558$var$byIdPath","delete","$90757103be394558$var$expectArray","makeError","$90757103be394558$var$expectObject","i","iMax","j","jMax","found","tail","orig","shift","equalsOffset","hasOwnProperty","$9c8ee0b1e1b7d62b$export$5a4bb2b1c89bdce7","$9c8ee0b1e1b7d62b$var$stringify","JSON","stringify","messages","$3a4453529c7602e5$export$97a1a3e6f39778d2","$jCAAx","setValue","getValue","text","textContent","enabled","disabled","list","listBinding","getListBinding","update","$01a9fd6c1733697a$export$b0eb386be3b9fed8","$hANL8","$01a9fd6c1733697a$var$listBindingRef","$01a9fd6c1733697a$var$SLICE_INTERVAL_MS","$01a9fd6c1733697a$var$updateRelativeBindings","boundElements","boundElement","matches","unshift","$01a9fd6c1733697a$var$ListBinding","_array","itemToElement","children","template","cloneWithBindings","listTop","listBottom","virtual","_update","throttle","visibleSlice","hiddenProp","visibleProp","visibleArray","firstItem","lastItem","topBuffer","bottomBuffer","width","offsetWidth","height","offsetHeight","visibleColumns","visibleRows","ceil","totalRows","visibleItems","topRow","scrollTop","isSlice","arrayPath","toggle","previousSlice","_previousSlice","removed","moved","created","proxy","elementToItem","insertBefore","insertionPoint","previousElementSibling","nextElementSibling","$4f9ba97dad88433d$export$635e15bbd66f01ea","$4f9ba97dad88433d$export$80746c6bc6142fc8","$4f9ba97dad88433d$export$bf7199a9ebcb84a9","$4f9ba97dad88433d$export$b13421f1ae71d316","$4f9ba97dad88433d$export$6bb13967611cdb1","Event","dispatchEvent","$4f9ba97dad88433d$var$valueType","HTMLInputElement","HTMLSelectElement","checked","valueAsDate","option","selected","radio","toISOString","reduce","ResizeObserver","$4f9ba97dad88433d$var$ResizeObserver","entries","entry","Node","$4a3ba1b45110c477$export$61fc7d43ac8f84b0","$4a3ba1b45110c477$export$de363e709c412c8a","origFn","minInterval","debounceId","args","clearTimeout","previousCall","inFlight","$8287b4a0c42d6d79$export$87ae551bf60f4bb","$8287b4a0c42d6d79$export$fd322201efdc650f","toLocaleUpperCase","$bd988bd6d6d6ff33$export$3bc26eec1cc2439f","$aMSvW","$bd988bd6d6d6ff33$export$7564cc5630cf4caa","svgElements","mathML","varDefault","vars","xinProxy","packagedComponent","creator","$7c408001ca0a23f8$export$5ac756d3522a2a00","$7c408001ca0a23f8$export$95a552d2395ab4c4","boxed","$7c408001ca0a23f8$var$deprecationMessage","$b71156193afa7077$export$93b87f7746612069","savedState","localStorage","getItem","state","parse","saveState","debounce","setItem","invertLuminance","darkMode","initVars","StyleSheet","MoreMath","boxedProxy","$6641ca2092fa5e2e$exports","hotReload","default"],"version":3,"file":"index.js.map"}