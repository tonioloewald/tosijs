{"version":3,"sources":["dist/xin.js"],"names":["stringify","x","JSON","_","makeError","messages","Error","map","join","now36","Date","parseInt","now","valueOf","toString","slice","_seq","seq","substr","id","_delete_","_newObject_","pathParts","path","Array","isArray","parts","length","index","search","push","split","part","indexOf","idPathMaps","WeakMap","buildIdPathValueMap","array","idPath","get","set","forEach","item","idx","undefined","_auto_","getByPath","getIdPathMap","keyToIndex","idValue","byKey","obj","key","valueToInsert","byIdPath","splice","expectArray","expectObject","constructor","Object","i","iMax","j","jMax","found","tail","setByPath","orig","val","shift","equalsOffset","observerShouldBeRemoved","Symbol","registry","listeners","validPath","isValidPath","test","Listener","[object Object]","callback","this","t","startsWith","RegExp","bind","Function","args","func","xin","touch","filter","listener","heard","e","unobserve","observe","extendPath","prop","match","includes","regHandler","target","compoundProp","basePath","subPath","currentPath","value","Proxy","endsWith","prototype","hasOwnProperty","call","needle","find","candidate","items","result","apply","Number","_xinPath","fullPath","exports"],"mappings":"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"}